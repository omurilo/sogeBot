(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1032:function(t,n,e){"use strict";e.r(n);var r=e(3),o=(e(70),e(26),e(24),e(50),e(44),e(11),e(36),e(66),e(43),e(22),e(49),e(59),e(38),e(170)),c=e(1),f=e(992),l=e.n(f);function h(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return d(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return d(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,f=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return c=t.done,t},e:function(t){f=!0,o=t},f:function(){try{c||null==e.return||e.return()}finally{if(f)throw o}}}}function d(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}var m={};m.props={opts:Object},m.setup=function(t,n){var time={seconds:1e3,minutes:6e4,hours:36e5},e=t,f=Object(r.ref)({});return Object(r.onMounted)((function(){if(console.log("====== WORDCLOUD ======"),e.opts){var head=document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css",console.debug("Loading font",e.opts.wordFont.family);var t="@import url('https://fonts.googleapis.com/css?family="+e.opts.wordFont.family.replace(/ /g,"+")+"');";style.appendChild(document.createTextNode(t)),head.appendChild(style)}Object(o.getSocket)("/overlays/wordcloud",!0).on("wordcloud:word",(function(t){return function(t){var n,r=h(t);try{var o=function(){var t,r,o,l=n.value;c.default.set(f.value,l,(null!==(t=f.value[l])&&void 0!==t?t:0)+1),setTimeout((function(){var t;c.default.set(f.value,l,(null!==(t=f.value[l])&&void 0!==t?t:0)-1);for(var n=0,e=Object.keys(f.value);n<e.length;n++){var r=e[n];f.value[r]<=0&&delete f.value[r]}}),(null===(r=e.opts)||void 0===r?void 0:r.fadeOutInterval)*time[null===(o=e.opts)||void 0===o?void 0:o.fadeOutIntervalType])};for(r.s();!(n=r.n()).done;)o()}catch(t){r.e(t)}finally{r.f()}console.log({words:t})}(t)}))})),{wordMap:f}},m.components=Object.assign({VueWordCloud:l.a},m.components);var v=m,y=e(95),component=Object(y.a)(v,(function(){var t=this,n=t.$createElement;return(t._self._c||n)("vue-word-cloud",{attrs:{words:Object.entries(t.wordMap),color:t.opts.wordFont.color,"font-family":t.opts.wordFont.family,"font-weight":String(t.opts.wordFont.weight),rotation:function(){return Math.random()>=.5?0:3/4},"font-size-ratio":5}})}),[],!1,null,null,null);n.default=component.exports},992:function(t,n,e){var r,o,c,f=e(327);e(11),e(175),e(43),e(176),e(177),e(178),e(179),e(180),e(181),e(182),e(183),e(184),e(185),e(186),e(187),e(188),e(189),e(190),e(191),e(38),e(23),e(112),e(472),e(308),e(74),e(113),e(70),e(28),e(26),e(171),e(27),e(44),e(42),e(993),e(36),c=function(){"use strict";function t(t){return"function"==typeof t}function n(){}var i=function(t){this.previousValue=t,this.interrupted=!1,this.interruptHandlers=new Set};function e(t){return function(){return t}}function r(){return[]}i.prototype.throwIfInterrupted=function(){if(this.interrupted)throw new Error},i.prototype.interrupt=function(){this.interrupted||(this.interrupted=!0,this.interruptHandlers.forEach((function(t){try{t()}catch(t){}})))},i.prototype.onInterrupt=function(t){if(this.interrupted&&!this.interruptHandlers.has(t))try{t()}catch(t){}this.interruptHandlers.add(t)};var o={animationDuration:{type:Number,default:1e3},animationEasing:{type:String,default:"ease"},animationOverlap:{type:Number,default:1},color:{type:[String,Function],default:"Black"},createCanvas:{type:Function,default:function(){return document.createElement("canvas")}},createWorker:{type:Function,default:function(t){return new Worker(URL.createObjectURL(new Blob([t])))}},enterAnimation:{type:[Object,String],default:e({opacity:0})},fontFamily:{type:[String,Function],default:"serif"},fontSizeRatio:{type:Number,default:0},fontStyle:{type:[String,Function],default:"normal"},fontVariant:{type:[String,Function],default:"normal"},fontWeight:{type:[String,Function],default:"normal"},leaveAnimation:{type:[Object,String],default:e({opacity:0})},loadFont:{type:Function,default:function(t,n,i,e){return document.fonts.load([n,i,"1px",t].join(" "),e)}},rotation:{type:[Number,Function],default:0},rotationUnit:{type:[String,Function],default:"turn"},spacing:{type:Number,default:0},text:{type:[String,Function],default:""},weight:{type:[Number,Function],default:1},words:{type:Array,default:r}},u=e(null);function a(t){if(t){var n=f(t);return"object"===n||"function"===n}return!1}function c(t){return"string"==typeof t}var s={animationOptions:function(){var t,n,i,e=this.animationDuration,r=this.enterAnimation,o=this.leaveAnimation;if(a(r)&&a(o)){var s=(t=Object.assign({},r,o),n=u,i={},Object.entries(t).forEach((function(e){var r=e[0],o=e[1];i[r]=n(o,r,t)})),i),f=function(t){Object.assign(t.style,r)},l=function(t,n){setTimeout((function(){Object.assign(t.style,s),setTimeout(n,e)}),1)};return{props:{css:!1},on:{beforeAppear:f,appear:l,beforeEnter:f,enter:l,leave:function(t,n){Object.assign(t.style,o),setTimeout(n,e)}}}}return c(r)&&c(o)?{props:{duration:e,appear:!0,appearActiveClass:r,enterActiveClass:r,leaveActiveClass:o}}:{}},normalizedAnimationOverlap:function(){var t=this.animationOverlap;return(t=Math.abs(t))<1&&(t=1/t),t},separateAnimationDelay:function(){var t=this.cloudWords;return t.length>1?(this.animationDuration-this.separateAnimationDuration)/(t.length-1):0},separateAnimationDuration:function(){var t=this.cloudWords;if(t.length>0){var n=this.animationDuration,i=this.normalizedAnimationOverlap;return n/Math.min(i,t.length)}return 0}},l=Array.isArray;function h(n){return t(n)?n:e(n)}var d=2*Math.PI,m=d/360;function v(t){return void 0===t}function y(t,n){return t.postMessage(n),function(t){return new Promise((function(n,i){var e,r=function(t){var i=t.data;e(),n(i)},o=function(t){var n=t.error;e(),i(n)};e=function(){t.removeEventListener("message",r),t.removeEventListener("error",o)},t.addEventListener("message",r),t.addEventListener("error",o)}))}(t)}function p(t,n,i){return Math.ceil(t*Math.abs(Math.sin(i))+n*Math.abs(Math.cos(i)))}function g(t,n,i){return Math.ceil(t*Math.abs(Math.cos(i))+n*Math.abs(Math.sin(i)))}function b(t,n,i,e,r){return[t,n,i,e+"px",r].join(" ")}function w(t,n){return Math.ceil(t/n)*n}function M(t,n,i){var e=i().getContext("2d");return e.font=n,e.measureText(t).width}var O=function(t,n,i,e,r,o,u){this.t=t,this.i=n,this.o=i,this.u=e,this.s=r,this.h=o,this.l=u,this.v=1,this.m=0,this.p=0,this.g=0},j={M:{configurable:!0},S:{configurable:!0},j:{configurable:!0},F:{configurable:!0},O:{configurable:!0},W:{configurable:!0},A:{configurable:!0},B:{configurable:!0},C:{configurable:!0},L:{configurable:!0},_:{configurable:!0},P:{configurable:!0},T:{configurable:!0},k:{configurable:!0},N:{configurable:!0},D:{configurable:!0},H:{configurable:!0},R:{configurable:!0},U:{configurable:!0}};j.M.get=function(){return this.v},j.M.set=function(t){this.v!==t&&(this.v=t,this.V=void 0)},j.S.get=function(){return b(this.h,this.s,this.u,this.M,this.o)},j.j.get=function(){return void 0===this.q&&(this.q=M(this.t,b(this.h,this.s,this.u,1,this.o),this.l)),this.q},j.F.get=function(){return this.j*this.M},j.O.get=function(){return this.p*this.M},j.O.set=function(t){this.p=t/this.M},j.W.get=function(){return this.g*this.M},j.W.set=function(t){this.g=t/this.M},j.A.get=function(){return g(this.F,this.M,this.i)},j.B.get=function(){return p(this.F,this.M,this.i)},j.C.get=function(){return this.O-this.A/2},j.L.get=function(){return this.W-this.B/2},j._.get=function(){return this.m},j._.set=function(t){this.m!==t&&(this.m=t,this.V=void 0)},j.P.get=function(){return void 0===this.V&&(this.V=function(t,n,i,e,r,o,u,a,c){var s=b(n,i,e,r*=4,o),f=u*r*2,l=f+M(t,s,c),h=f+r,d=c(),m=d.getContext("2d"),v=w(g(l,h,a),4),y=w(p(l,h,a),4);d.width=v,d.height=y,m.translate(v/2,y/2),m.rotate(a),m.font=s,m.textAlign="center",m.textBaseline="middle",m.fillText(t,0,0),f>0&&(m.miterLimit=1,m.lineWidth=f,m.strokeText(t,0,0));for(var O=m.getImageData(0,0,v,y).data,j=[],E=1/0,F=0,S=1/0,x=0,W=v/4,A=y/4,I=0;I<W;++I)for(var C=0;C<A;++C)t:for(var T=0;T<4;++T)for(var _=0;_<4;++_)if(O[4*(v*(4*C+_)+(4*I+T))+3]){j.push([I,C]),E=Math.min(I,E),F=Math.max(I+1,F),S=Math.min(C,S),x=Math.max(C+1,x);break t}return j.length>0?[j.map((function(t){var n=t[0],i=t[1];return[n-E,i-S]})),F-E,x-S,Math.ceil(W/2)-E,Math.ceil(A/2)-S]:[j,0,0,0,0]}(this.t,this.h,this.s,this.u,this.M,this.o,this._,this.i,this.l)),this.V},j.T.get=function(){return this.P[0]},j.k.get=function(){return this.P[1]},j.N.get=function(){return this.P[2]},j.D.get=function(){return this.P[3]},j.H.get=function(){return this.P[4]},j.R.get=function(){return Math.ceil(this.O)-this.D},j.R.set=function(t){this.O=t+this.D},j.U.get=function(){return Math.ceil(this.W)-this.H},j.U.set=function(t){this.W=t+this.H},Object.defineProperties(O.prototype,j);var E={name:"VueWordCloud",mixins:[function(e){return{data:function(){var t={};return Object.keys(e).forEach((function(n){t["asyncComputed_trigger_"+n]={}})),t},computed:{},beforeCreate:function(){var r=this,o=new Set;Object.entries(e).forEach((function(e){var u=e[0],a=e[1],c=a.get,s=a.default,f=a.errorHandler;void 0===f&&(f=n);var l,h=!0;r.$options.computed[u]=function(){return this["asyncComputed_trigger_"+u],this["asyncComputed_promise_"+u],s},r.$options.computed["asyncComputed_promise_"+u]=function(){var n=this;l&&(l.interrupt(),o.delete(l)),h&&(h=!1,t(s)&&(s=s.call(this)));var e=new i(s);l=e,o.add(l),new Promise((function(t){t(c.call(n,e))})).then((function(t){e.throwIfInterrupted(),s=t,n["asyncComputed_trigger_"+u]={}})).catch(f)}}))}}}({cloudWords:{get:function(t){var i,e=this,r=this,o=r.elementWidth,u=r.elementHeight,s=r.words,p=r.text,g=r.weight,b=r.rotation,f=r.rotationUnit,w=r.fontFamily,M=r.fontWeight,j=r.fontVariant,E=r.fontStyle,F=r.color,S=r.spacing,x=r.fontSizeRatio,W=r.createCanvas,A=r.loadFont,I=r.createWorker;i=x,x=(i=Math.abs(i))>1?1/i:i;var C=function(t){var n=t[0],i=t[1];return n>i?[1,i/n]:i>n?[n/i,1]:[1,1]}([o,u]);if(o>0&&u>0){var T=h(p),_=h(g),L=h(b),D=h(f),P=h(w),k=h(M),U=h(j),H=h(E),R=h(F);return s=s.map((function(t,n){var i,e,r,o,u,f,h,p,g,b,y;t&&(c(t)?r=t:l(t)?(r=(i=t)[0],o=i[1]):a(t)&&(r=(e=t).text,o=e.weight,u=e.rotation,f=e.rotationUnit,h=e.fontFamily,p=e.fontWeight,g=e.fontVariant,b=e.fontStyle,y=e.color)),v(r)&&(r=T(t,n,s)),v(o)&&(o=_(t,n,s)),v(u)&&(u=L(t,n,s)),v(f)&&(f=D(t,n,s)),v(h)&&(h=P(t,n,s)),v(p)&&(p=k(t,n,s)),v(g)&&(g=U(t,n,s)),v(b)&&(b=H(t,n,s)),v(y)&&(y=R(t,n,s));var w=new O(r,function(){switch(f){case"turn":return u*d;case"deg":return function(t){return t*m}(u)}return u}(),h,p,g,b,W);return Object.assign(w,{J:t,Y:o,G:y}),w})),Promise.resolve().then((function(){return Promise.all(s.map((function(t){var n=t.o,i=t.h,e=t.u,r=t.t;return A(n,i,e,r)})))})).catch(n).then((function(){if((s=s.filter((function(t){return t.F>0})).sort((function(t,n){return n.Y-t.Y}))).length>0){var n=s[0],i=function(t){return t[(n=t,n.length-1)];var n}(s),r=n.Y,a=i.Y;if(a<r){var c=x>0?1/x:a>0?r/a:r<0?a/r:1+r-a;s.forEach((function(t){var i;t.M=1+(t.Y-(i=a))*(c-1)/(r-i)}))}s.reduceRight((function(t,n){return n.M<2*t?n.M/=t:(t=n.M,n.M=1),n.I=t}),1),s.forEach((function(t){t.M*=4}));var f=I('!function(){"use strict";var r=function(t){self.removeEventListener("message",r);var n,e,a,f,i,u=t.data,o=function(){n={},e=0,a=0,f=0,i=0};o();var s=function(){return Math.ceil((e+a)/2)},v=function(){return Math.ceil((f+i)/2)},c=function(){return{left:s(),top:v(),width:a-e,height:i-f}},l=function(r,t,u){r.forEach((function(r){var o=r[0],s=r[1],v=t+o,c=u+s;n[v+"|"+c]=!0,e=Math.min(v,e),a=Math.max(v+1,a),f=Math.min(c,f),i=Math.max(c+1,i)}))},h=function(r,t,e){return function(r,t,n){var e,a,f=r[0],i=r[1],u=t[0],o=t[1];f>i?(e=1,a=i/f):i>f?(a=1,e=f/i):e=a=1;var s=[u,o];if(n(s))return s;for(var v=u,c=o,l=u,h=o,M=v,d=c;;){u-=e,o-=a,v+=e,c+=a;var m=Math.floor(u),g=Math.floor(o),p=Math.ceil(v),E=Math.ceil(c);if(p>M)for(var L=g;L<E;++L){var x=[p,L];if(n(x))return x}if(E>d)for(var y=p;y>m;--y){var w=[y,E];if(n(w))return w}if(m<l)for(var B=E;B>g;--B){var F=[m,B];if(n(F))return F}if(g<h)for(var b=m;b<p;++b){var j=[b,g];if(n(j))return j}l=m,h=g,M=p,d=E}}(u,[t+s(),e+v()],(function(t){var e=t[0],a=t[1];return function(r,t,e){return r.every((function(r){var a=r[0],f=r[1];return!n[t+a+"|"+(e+f)]}))}(r,e,a)}))};self.postMessage({}),self.addEventListener("message",(function(r){self.postMessage({getBounds:c,put:l,findFit:h,clear:o}[r.data.name].apply(null,r.data.args))}))};self.addEventListener("message",r)}();\n'),l={completedWords:0,totalWords:s.length};return Promise.resolve().then((function(){return t.throwIfInterrupted(),e.progress=l,y(f,C)})).then((function(){t.throwIfInterrupted(),l.completedWords++;var n=Promise.resolve();return s.reduce((function(i,e,r){return n=n.then((function(){return e.I<i.I?Promise.resolve().then((function(){return y(f,{name:"clear"})})).then((function(){var t=Promise.resolve(),n=i.I/e.I;return s.slice(0,r).forEach((function(i){t=t.then((function(){return i.M*=n,y(f,{name:"put",args:[i.T,i.R,i.U]})}))})),t})):y(f,{name:"put",args:[i.T,i.R,i.U]})})).then((function(){return e._=S,y(f,{name:"findFit",args:[e.T,e.R,e.U]})})).then((function(n){var i=n[0],r=n[1];t.throwIfInterrupted(),l.completedWords++,e.R=i,e.U=r,e._=0})),e})),n})).then((function(){return y(f,{name:"put",args:[i.T,i.R,i.U]})})).then((function(){return y(f,{name:"getBounds"})})).then((function(t){var n=t.left,i=t.top,e=t.width,r=t.height;if(e>0&&r>0){var a=Math.min(o/e,u/r);s.forEach((function(t){t.O-=n,t.W-=i,t.M*=a}))}var c=new Set;return s.map((function(t){for(var n=t.J,i=t.t,e=t.Y,r=t.i,o=t.o,u=t.u,a=t.s,s=t.h,f=t.S,l=t.O,h=t.W,d=t.G,m=JSON.stringify([i,o,u,a,s]);c.has(m);)m+="!";return c.add(m),{key:m,word:n,text:i,weight:e,rotation:r,font:f,color:d,left:l,top:h}}))})).finally((function(){f.terminate()})).finally((function(){t.throwIfInterrupted(),e.progress=null}))}return[]}))}return[]},default:r}})],props:o,data:function(){return{elementWidth:0,elementHeight:0,progress:null}},computed:s,watch:{cloudWords:function(t){this.$emit("update:cloudWords",t)},progress:{handler:function(t){this.$emit("update:progress",t)},deep:!0,immediate:!0}},mounted:function(){var t,i=this;t=function(){if(i._isDestroyed)return!1;i.updateElementSize()},function(t){return function n(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];return t.call.apply(t,[this,n].concat(i))}}((function(i){requestAnimationFrame((function(){!1!==t()&&setTimeout(i,1e3)}))}))()},methods:{updateElementSize:function(){var t=this.$el;t&&(this.elementWidth=t.offsetWidth,this.elementHeight=t.offsetHeight)}},render:function(t){var n=this.$scopedSlots,i=this.animationEasing,e=this.animationOptions,r=this.cloudWords,o=this.separateAnimationDelay,u=this.separateAnimationDuration;return n=Object.assign({},{default:function(t){return t.text}},n),t("div",{style:{height:"100%",position:"relative",width:"100%"}},[t("div",{style:{bottom:"50%",position:"absolute",right:"50%",transform:"translate(50%,50%)"}},r.map((function(r,a){var c=r.color,s=r.font,f=r.left,l=r.rotation,h=r.text,d=r.top,m=r.weight,v=r.word;return t("transition",Object.assign({},e),[t("div",{key:a,style:Object.assign({},{left:f+"px",position:"absolute",top:d+"px"},u>0?{animation:[u+"ms",i,o*a+"ms"].join(" "),transition:["all",u+"ms",i,o*a+"ms"].join(" ")}:{})},[t("div",{style:Object.assign({},{bottom:0,position:"absolute",right:0,transform:["translate(50%,50%)","rotate("+l+"rad)"].join(" ")},u>0?{transition:["all",u+"ms",i,o*a+"ms"].join(" ")}:{})},[t("span",{style:{color:c,display:"inline-block",font:s,lineHeight:1,transform:"translateY(-0.1em)",whiteSpace:"nowrap"}},[n.default({color:c,font:s,left:f,text:h,top:d,weight:m,word:v})])])])])})))])}},F=globalThis.window;if(F){var S=F.Vue;S&&S.component(E.name,E)}return E},"object"==f(n)&&void 0!==t?t.exports=c():void 0===(o="function"==typeof(r=c)?r.call(n,e,n,t):r)||(t.exports=o)},993:function(t,n,e){e(994)},994:function(t,n,e){e(2)({global:!0},{globalThis:e(4)})}}]);