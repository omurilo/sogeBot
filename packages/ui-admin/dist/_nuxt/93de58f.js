(window.webpackJsonp=window.webpackJsonp||[]).push([[180,9,121],{1017:function(e,t,n){var content=n(1069);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(20).default)("02e8916b",content,!0,{sourceMap:!1})},1067:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"randomizerGetOne"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"randomizers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"command"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permissionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isShown"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldPlayTick"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tickVolume"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgetOrder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"anchorX"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"anchorY"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customizationFont"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"family"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"borderColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"borderPx"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shadow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shiftRight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shiftDown"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blur"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"opacity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"tts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"voice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pitch"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"volume"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"groupId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numOfDuplicates"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimalSpacing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:562}};n.loc.source={body:"query randomizerGetOne($id: String!) {\n  permissions { id name }\n  randomizers(id: $id) {\n    id\n    createdAt\n    command\n    permissionId\n    name\n    isShown\n    shouldPlayTick\n    tickVolume\n    widgetOrder\n    type\n    position {\n      x y anchorX anchorY\n    }\n    customizationFont {\n      family color size weight borderColor borderPx\n      shadow {\n        shiftRight shiftDown blur opacity color\n      }\n    }\n    tts {\n      enabled voice pitch volume rate\n    }\n    items {\n      id groupId name color numOfDuplicates minimalSpacing order\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}var o={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==t)return element}}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.randomizerGetOne=function(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=o[t]||new Set,c=new Set,d=new Set;for(r.forEach((function(e){d.add(e)}));d.size>0;){var m=d;d=new Set,m.forEach((function(e){c.has(e)||(c.add(e),(o[e]||new Set).forEach((function(e){d.add(e)})))}))}return c.forEach((function(t){var r=l(e,t);r&&n.definitions.push(r)})),n}(n,"randomizerGetOne")},1068:function(e,t,n){"use strict";n(1017)},1069:function(e,t,n){var r=n(19)((function(i){return i[1]}));r.push([e.i,".middle-align[data-v-399d0b56] table tbody tr td{vertical-align:middle!important}",""]),r.locals={},e.exports=r},1163:function(e,t,n){"use strict";n.r(t);n(1),n(12),n(11),n(8),n(4),n(14),n(13),n(15);var r=n(2),o=(n(28),n(5)),l=n(49),c=n.n(l),d=n(173);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f=Object(o.c)({props:{value:Object,disabled:Boolean,disableX:Boolean,disableY:Boolean,disableAnchorX:Boolean,disableAnchorY:Boolean},setup:function(e,t){var n=Object(o.h)(e.value),r=Object(o.i)(Object(d.a)()),l=[{value:"left",text:c()("dialog.position.left")},{value:"middle",text:c()("dialog.position.middle")},{value:"right",text:c()("dialog.position.right")}],m=[{value:"top",text:c()("dialog.position.top")},{value:"middle",text:c()("dialog.position.middle")},{value:"bottom",text:c()("dialog.position.bottom")}],f=Object(o.h)({anchor:null,text:null}),h=Object(o.i)(null);return Object(o.p)(n,(function(r){e.disableX&&0!==r.x&&(n.x=0),e.disableY&&0!==r.y&&(n.y=0),e.disableAnchorY&&"top"!==r.anchorY&&(n.anchorY="top"),e.disableAnchorX&&"left"!==r.anchorX&&(n.anchorX="left"),t.emit("input",r)})),v(v({positionGenerator:function(e){if(h.value){if(f[e]){var t="text"===e?f[e]:f[e].$el,r=h.value.$el.getBoundingClientRect().width/100,o=h.value.$el.getBoundingClientRect().height/100,l=0;"middle"===n.anchorY?l=t.getBoundingClientRect().height/2:"bottom"===n.anchorY&&(l=t.getBoundingClientRect().height);var c=0;return"middle"===n.anchorX?c=t.getBoundingClientRect().width/2:"right"===n.anchorX&&(c=t.getBoundingClientRect().width),{transform:"translate(".concat(n.x*r-c,"px, ").concat(n.y*o-l,"px)")}}return{transform:"translate(0, 0)"}}return{transform:"translate(0, 0)"}},model:n,uuid:r,example:h,anchorYOptions:m,anchorXOptions:l},Object(o.j)(f)),{},{translate:c.a})}}),h=n(45),y=n(44),x=n.n(y),k=n(762),O=n(30),_=n(359),w=n(267),S=n(134),j=n(270),component=Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-expansion-panel",{attrs:{disabled:e.disabled}},[n("v-expansion-panel-header",[e._v("\n    "+e._s(e.translate("dialog.position.settings"))+"\n  ")]),e._v(" "),n("v-expansion-panel-content",[e.disableAnchorX?e._e():n("v-select",{attrs:{label:e.translate("dialog.position.anchorX"),items:e.anchorXOptions},model:{value:e.model.anchorX,callback:function(t){e.$set(e.model,"anchorX",t)},expression:"model.anchorX"}}),e._v(" "),e.disableAnchorY?e._e():n("v-select",{attrs:{label:e.translate("dialog.position.anchorY"),items:e.anchorYOptions},model:{value:e.model.anchorY,callback:function(t){e.$set(e.model,"anchorY",t)},expression:"model.anchorY"}}),e._v(" "),e.disableX?e._e():n("v-slider",{attrs:{label:e.translate("dialog.position.x"),max:100,step:.01,min:0,"thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n          "+e._s(Number(r)+"%")+"\n        ")])]}}],null,!1,1347713083),model:{value:e.model.x,callback:function(t){e.$set(e.model,"x",t)},expression:"model.x"}}),e._v(" "),e.disableY?e._e():n("v-slider",{attrs:{label:e.translate("dialog.position.y"),max:100,step:.01,min:0,"thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n          "+e._s(Number(r)+"%")+"\n        ")])]}}],null,!1,1347713083),model:{value:e.model.y,callback:function(t){e.$set(e.model,"y",t)},expression:"model.y"}}),e._v(" "),n("div",{staticClass:"m-auto py-4",staticStyle:{width:"25%",margin:"auto"}},[n("v-responsive",{staticStyle:{overflow:"visible"},attrs:{"aspect-ratio":16/9}},[n("v-sheet",{ref:"example",staticClass:"fill-height",staticStyle:{position:"relative"},attrs:{elevation:"2",color:"grey darken-4"}},[n("v-icon",{ref:"anchor",staticStyle:{position:"absolute"},style:e.positionGenerator("anchor"),attrs:{color:"primary","x-small":""}},[e._v("\n            mdi-square\n          ")]),e._v(" "),n("div",{ref:"text",staticStyle:{"font-size":"1rem",position:"absolute"},style:e.positionGenerator("text")},[e._v("\n            EXAMPLE TEXT\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;x()(component,{VExpansionPanel:k.a,VExpansionPanelContent:k.b,VExpansionPanelHeader:k.c,VIcon:O.a,VResponsive:_.a,VSelect:w.a,VSheet:S.a,VSlider:j.a})},1164:function(e,t,n){"use strict";n.r(t);n(1),n(40),n(33),n(51),n(11),n(52),n(55),n(12),n(14),n(13),n(15);var r=n(2),o=n(23),l=n(35),c=(n(8),n(4),n(73),n(28),n(24),n(25),n(62),n(37),n(39),n(94),n(82),n(5)),d=n(49),m=n.n(d),v=n(54),f=n(141),h=n(266);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var _=[],w=[];function S(e,t,n){f.a.$emit("randomizer::dragstart");var r=n.find((function(e){return e.id===t}));if(r){var c=function e(t){var r=[],o=n.filter((function(e){return e.groupId===t}));if(0===o.length)return[];r.push.apply(r,Object(l.a)(o));var c,d=k(o);try{for(d.s();!(c=d.n()).done;){var m=c.value;r.push.apply(r,Object(l.a)(e(m.id)))}}catch(e){d.e(e)}finally{d.f()}return r}(r.id),d=[],m=function e(element){return null===element?null:"TR"===element.tagName?element:e(element.parentElement)};_.length=0,w.length=0;for(var v=0,h=0,y=[r].concat(Object(l.a)(c));h<y.length;h++){var x=y[h],O=m(document.getElementById("drag|".concat(x.id)));if(O){if(0===_.length){var S,j=k(O.children);try{for(j.s();!(S=j.n()).done;){var C=S.value;_.push("".concat(parseInt(window.getComputedStyle(C).width),"px"))}}catch(e){j.e(e)}finally{j.f()}}v+=Number(window.getComputedStyle(O).height.replace("px",""))+10,w.push(v),d.push(O)}}document.onmouseup=function(e){var t=null,n=document.elementFromPoint(e.clientX,e.clientY);if(n)for(;!t;){var o,m=null===(o=n)||void 0===o?void 0:o.parentElement;if(!m)break;"TR"===m.tagName?t=m:n=m}if(t)try{var v=t.children[0].children[0].id.replace("drag|","");f.a.$emit("randomizer::dragdrop",{items:[r].concat(Object(l.a)(c)),offsetId:v})}catch(e){f.a.$emit("randomizer::dragdrop",{items:[r].concat(Object(l.a)(c))})}var h,y=k(d);try{for(y.s();!(h=y.n()).done;){var element=h.value;element.style.position="inherit",element.style.opacity="1"}}catch(e){y.e(e)}finally{y.f()}document.onmousemove=null,document.onmouseup=null,f.a.$emit("randomizer::dragstop")},document.onmousemove=function(e){var t,n=k(d.entries());try{for(n.s();!(t=n.n()).done;){for(var r=Object(o.a)(t.value,2),l=r[0],element=r[1],i=0;i<element.children.length;i++)element.children[i].style.maxWidth=_[i],element.children[i].style.minWidth=_[i],element.children[i].style.overflow="hidden";element.style.opacity="0.8",element.style.zIndex=String(9999),element.style.position="fixed",element.style.top=e.clientY+w[l]-100+"px",element.style.left=e.clientX+5+"px"}}catch(e){n.e(e)}finally{n.f()}}}}var j=Object(c.c)({props:{value:Array},components:{color:Object(c.b)({loader:function(){return Promise.all([n.e(14),n.e(15)]).then(n.bind(null,1162))}})},setup:function(e,t){var n=Object(c.i)(e.value),r=Object(c.i)(!1),o={name:[h.h],color:[h.b],numOfDuplicates:[h.h,Object(h.f)(1)],minimalSpacing:[h.h,Object(h.f)(0)]},d=[{value:"drag",text:""},{value:"name",text:m()("registry.randomizer.form.name")},{value:"color",text:m()("registry.randomizer.form.color")},{value:"numOfDuplicates",text:m()("registry.randomizer.form.numOfDuplicates")},{value:"minimalSpacing",text:m()("registry.randomizer.form.minimalSpacing")},{value:"groupBtn",text:""},{value:"delBtn",text:""}];return Object(c.f)((function(){f.a.$off("randomizer::dragdrop").$off("randomizer::dragstart"),f.a.$on("randomizer::dragstart",(function(){r.value=!0})),f.a.$on("randomizer::dragstop",(function(){r.value=!1})),f.a.$on("randomizer::dragdrop",(function(data){var e,t=k(data.items);try{var r=function(){var t=e.value;n.value=n.value.filter((function(e){return e.id!==t.id}))};for(t.s();!(e=t.n()).done;)r()}catch(e){t.e(e)}finally{t.f()}if(data.offsetId){var o,c=function e(t){var r=n.value.find((function(e){return e.id===t}));return r?null===r.groupId?n.value.findIndex((function(e){return e.id===t})):e(r.groupId):0}(data.offsetId);if(c>=0)(o=n.value).splice.apply(o,[c,0].concat(Object(l.a)(data.items)))}else{var d,m=k(data.items);try{for(m.s();!(d=m.n()).done;){var v=d.value;n.value.push(x(x({},v),{},{order:n.value.length}))}}catch(e){m.e(e)}finally{m.f()}}for(var i=0;i<n.value.length;i++)n.value[i].order=i}))})),Object(c.p)(n,(function(e){t.emit("input",e)}),{deep:!0}),{headers:d,model:n,rules:o,isDragging:r,rmOption:function(e){if(n.value){n.value=Object(v.orderBy)(n.value.filter((function(t){return t.id!==e})),"order");var t,r=k(n.value.filter((function(t){return t.groupId!==e})));try{for(r.s();!(t=r.n()).done;){t.value.groupId=null}}catch(e){r.e(e)}finally{r.f()}for(var i=0;i<n.value.length;i++)n.value[i].order=i}},translate:m.a,handleDragStart:S}}}),C=(n(1068),n(45)),V=n(44),z=n.n(V),N=n(379),F=n(48),P=n(269),$=n(30),A=n(140),component=Object(C.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{staticClass:"middle-align",attrs:{dense:"",headers:e.headers,"items-per-page":-1,items:e.model,"disable-sort":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.name",fn:function(t){var r=t.item;return[n("v-text-field",{staticClass:"pa-2",attrs:{"hide-details":"",rules:e.rules.name,dense:""},model:{value:r.name,callback:function(t){e.$set(r,"name",t)},expression:"item.name"}})]}},{key:"item.numOfDuplicates",fn:function(t){var r=t.item;return[r.groupId?n("v-alert",{staticClass:"pa-1 text-center ma-0",staticStyle:{"line-height":"14px"},attrs:{color:"info",dense:""}},[n("small",[e._v(e._s(e.translate("registry.randomizer.form.groupedWithOptionAbove")))])]):n("v-text-field",{staticClass:"pa-2",attrs:{min:"1",type:"number",rules:e.rules.numOfDuplicates,"hide-details":"",dense:""},model:{value:r.numOfDuplicates,callback:function(t){e.$set(r,"numOfDuplicates",t)},expression:"item.numOfDuplicates"}})]}},{key:"item.color",fn:function(t){var r=t.item;return[n("color",{staticClass:"pa-2",attrs:{randomizer:"","hide-details":"",dense:""},model:{value:r.color,callback:function(t){e.$set(r,"color",t)},expression:"item.color"}})]}},{key:"item.minimalSpacing",fn:function(t){var r=t.item;return[r.groupId?n("v-alert",{staticClass:"pa-1 text-center ma-0",staticStyle:{"line-height":"14px"},attrs:{color:"info",dense:""}},[n("small",[e._v(e._s(e.translate("registry.randomizer.form.groupedWithOptionAbove")))])]):n("v-text-field",{staticClass:"pa-2",attrs:{min:"0",type:"number",rules:e.rules.minimalSpacing,"hide-details":"",dense:""},model:{value:r.minimalSpacing,callback:function(t){e.$set(r,"minimalSpacing",t)},expression:"item.minimalSpacing"}})]}},{key:"item.groupBtn",fn:function(t){var r=t.item;return[r.order>0?n("div",{staticClass:"pa-2"},[r.groupId?n("v-btn",{staticClass:"secondary",attrs:{small:""},on:{click:function(e){r.groupId=null}}},[e._v("\n        "+e._s(e.translate("registry.randomizer.form.ungroup"))+"\n      ")]):n("v-btn",{staticClass:"secondary",attrs:{small:""},on:{click:function(t){r.groupId=e.model.find((function(e){return e.order===r.order-1})).id}}},[e._v("\n        "+e._s(e.translate("registry.randomizer.form.groupUp"))+"\n      ")])],1):e._e()]}},{key:"item.delBtn",fn:function(t){var r=t.item;return[n("v-btn",{staticClass:"pa-2",attrs:{small:"",color:"error",icon:""},on:{click:function(t){return e.rmOption(r.id)}}},[n("v-icon",[e._v("mdi-delete-forever")])],1)]}},{key:"item.drag",fn:function(t){var r=t.item;return[n("div",{attrs:{id:"drag|"+r.id}},[null===r.groupId?n("v-icon",{attrs:{disabled:e.isDragging},on:{mousedown:function(t){return t.preventDefault(),e.handleDragStart(t,r.id,e.model)}}},[e._v("\n        mdi-drag\n      ")]):e._e()],1)]}},{key:"body.append",fn:function(){return[e.isDragging?n("tr",[n("td",{staticStyle:{height:"10px"},attrs:{colspan:"10"}})]):e._e()]},proxy:!0}],null,!0)})}),[],!1,null,"399d0b56",null);t.default=component.exports;z()(component,{VAlert:N.a,VBtn:F.a,VDataTable:P.a,VIcon:$.a,VTextField:A.a})},1530:function(e,t,n){"use strict";n.r(t);var r,o=n(1),l=n(60),c=(n(12),n(11),n(14),n(13),n(15),n(40),n(51),n(37),n(25),n(52),n(55),n(39),n(2)),d=n(147),m=n(26),v=(n(31),n(33),n(4),n(8),n(73),n(81),n(967)),f=n(385),h=n(49),y=n.n(h),x=n(148),k=n(54),O=n(173),_=n(80),w=n(141),S=n(266),j=n(1067),C=n.n(j);function V(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function N(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function F(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?N(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):N(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var P={id:Object(O.a)(),name:"",command:"",items:[],createdAt:Date.now(),permissionId:f.defaultPermissions.CASTERS,isShown:!1,shouldPlayTick:!1,tickVolume:1,type:"simple",widgetOrder:-1,tts:{enabled:!1,voice:"English Female",pitch:1,volume:.5,rate:1},position:{x:0,y:0,anchorX:"left",anchorY:"top"},customizationFont:{family:"PT Sans",weight:500,size:16,borderColor:"#000000",borderPx:1,shadow:[]}},$=Object(o.h)({setup:function(){var e=Object(l.d)(),t=e.$graphql,n=e.$store,c=Object(l.e)(),f=Object(l.f)(),h=Object(o.J)(!0),j=Object(o.J)(!1),z=Object(o.J)(Object(k.cloneDeep)(P)),N=Object(o.J)([]);Object(o.A)(Object(m.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===c.params.id){e.next=6;break}return e.next=3,t.default.request(C.a,{id:c.params.id});case 3:0===(n=e.sent).goals.length?(w.a.$emit("snack","error","Data not found."),f.push({path:"/registry/randomizer"})):(z.value=Object(k.cloneDeep)(n.randomizers[0]),N.value=Object(k.cloneDeep)(n.permissions)),h.value=!1;case 6:case"end":return e.stop()}}),e)}))));var $=Object(o.J)(1),A=Object(o.J)(null),T=Object(o.J)(!0),I=[{text:y()("registry.randomizer.form.simple"),value:"simple"},{text:y()("registry.randomizer.form.wheelOfFortune"),value:"wheelOfFortune"},{text:y()("registry.randomizer.form.tape"),value:"tape"}],D=Object(o.b)((function(){return N.value.map((function(e){return{text:e.name,value:e.id,disabled:!1}}))})),E={name:[S.h],command:[S.h,Object(S.j)(["!"]),Object(S.e)(3)]};Object(o.A)((function(){n.commit("panel/back","/registry/randomizer/")}));return{form1:A,valid1:T,item:z,stepper:$,typeItems:I,permissionItems:D,rules:E,saving:j,loading:h,save:function(){var e;A.value.validate()&&(j.value=!0,t.default.request(Object(x.a)(r||(r=Object(d.a)(["\n      mutation randomizersSave($data_json: String!) {\n        randomizersSave(data: $data_json) { id }\n      }"]))),{data_json:JSON.stringify(F(F({},z.value),{},{id:null!==(e=z.value.id)&&void 0!==e?e:Object(O.a)()}))}).then((function(data){f.push({params:{id:data.randomizersSave.id}}),w.a.$emit("snack","success","Data saved.")})).catch((function(e){return Object(_.a)(e)})).finally((function(){return j.value=!1})))},addOption:function(){z.value.items&&z.value.items.push({id:Object(O.a)(),name:"",color:Object(v.getRandomColor)(),numOfDuplicates:1,minimalSpacing:1,groupId:null,randomizer:void 0,randomizerId:void 0,order:z.value.items.length})},generateItems:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(k.cloneDeep)(Object(k.orderBy)(t,"order"));t=(t=Object(k.cloneDeep)(Object(k.orderBy)(t,"order"))).filter((function(e){return e.numOfDuplicates>0}));var o,l=function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=t.find((function(e){return e.groupId===n.id}));return o?e(o,r+1):r},c=function(e){var t=n.map((function(e){return e.name})).lastIndexOf(e.name),r=n.length;return-1===t||t+e.minimalSpacing+l(e)<r},d=function e(n,r){var o=t.find((function(e){return e.groupId===n.id}));o&&(r.push(o),e(o,r))},m=V(t);try{for(m.s();!(o=m.n()).done;){var v=o.value;v.numOfDuplicates>0&&c(v)&&!v.groupId&&(n.push(v),v.numOfDuplicates--,d(v,n))}}catch(e){m.e(e)}finally{m.f()}return t.filter((function(e){return e.numOfDuplicates>0})).length>0&&!Object(k.isEqual)(t.filter((function(e){return e.numOfDuplicates>0})),r)&&e(t,n),n},translate:y.a,getContrastColor:v.getContrastColor}}}),A=$,T=n(45),I=n(44),D=n.n(I),E=n(379),B=n(48),Y=n(43),R=n(268),X=n(27),U=n(68),G=n(762),J=n(376),M=n(30),H=n(142),W=n(143),K=n(267),L=n(270),Q=n(140),component=Object(T.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"fill-height",attrs:{loading:e.loading}},[n("portal",{attrs:{to:"navbar"}},[n("v-btn",{attrs:{small:"",text:!e.$vuetify.breakpoint.xs,icon:e.$vuetify.breakpoint.xs,loading:e.saving,disabled:!e.valid1||e.loading},on:{click:e.save}},[n("v-icon",{staticClass:"d-flex d-sm-none"},[e._v("\n        mdi-floppy\n      ")]),e._v(" "),n("span",{staticClass:"d-none d-sm-flex"},[e._v(e._s(e.translate("dialog.buttons.saveChanges.idle")))])],1)],1),e._v(" "),n("v-fade-transition",[e.loading?e._e():n("v-container",{attrs:{fluid:""}},[n("v-form",{ref:"form1",attrs:{"lazy-validation":""},model:{value:e.valid1,callback:function(t){e.valid1=t},expression:"valid1"}},[n("v-text-field",{attrs:{label:e.translate("registry.randomizer.form.name"),rules:e.rules.name},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name","string"==typeof t?t.trim():t)},expression:"item.name"}}),e._v(" "),n("v-text-field",{attrs:{label:e.translate("registry.randomizer.form.command"),rules:e.rules.command},model:{value:e.item.command,callback:function(t){e.$set(e.item,"command","string"==typeof t?t.trim():t)},expression:"item.command"}}),e._v(" "),n("v-select",{attrs:{label:e.translate("registry.randomizer.form.type"),items:e.typeItems},model:{value:e.item.type,callback:function(t){e.$set(e.item,"type",t)},expression:"item.type"}}),e._v(" "),n("v-select",{attrs:{label:e.translate("registry.randomizer.form.permission"),items:e.permissionItems},model:{value:e.item.permissionId,callback:function(t){e.$set(e.item,"permissionId",t)},expression:"item.permissionId"}}),e._v(" "),n("v-expand-transition",["wheelOfFortune"===e.item.type?n("div",[n("v-checkbox",{attrs:{label:e.translate("registry.randomizer.form.tick")},model:{value:e.item.shouldPlayTick,callback:function(t){e.$set(e.item,"shouldPlayTick",t)},expression:"item.shouldPlayTick"}}),e._v(" "),n("v-slider",{attrs:{min:"0",max:"100",step:"1",label:e.translate("volume"),"thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n                  "+e._s(Number(r)+"%")+"\n                ")])]}}],null,!1,2220810299),model:{value:e.item.tickVolume,callback:function(t){e.$set(e.item,"tickVolume",t)},expression:"item.tickVolume"}})],1):e._e()])],1),e._v(" "),n("v-expansion-panels",{attrs:{value:3}},[n("form-expansion-position",{attrs:{disabled:"wheelOfFortune"===e.item.type,"disable-x":"tape"===e.item.type,"disable-anchor-x":"tape"===e.item.type,"disable-anchor-y":"tape"===e.item.type},model:{value:e.item.position,callback:function(t){e.$set(e.item,"position",t)},expression:"item.position"}}),e._v(" "),n("form-expansion-tts",{model:{value:e.item.tts,callback:function(t){e.$set(e.item,"tts",t)},expression:"item.tts"}}),e._v(" "),n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("\n            "+e._s(e.translate("registry.goals.fontSettings"))+"\n          ")]),e._v(" "),n("v-expansion-panel-content",[n("form-expansion-font",{model:{value:e.item.customizationFont,callback:function(t){e.$set(e.item,"customizationFont",t)},expression:"item.customizationFont"}})],1)],1),e._v(" "),n("v-expansion-panel",[n("v-expansion-panel-header",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.open;return[e._v("\n            "+e._s(e.translate("registry.randomizer.form.options"))+"\n            "),n("div",{staticStyle:{"text-align":"right"}},[r?n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.addOption.apply(null,arguments)}}},[n("v-icon",[e._v("mdi-plus")])],1):e._e()],1)]}}],null,!1,956088688)}),e._v(" "),n("v-expansion-panel-content",[n("randomizer-table",{model:{value:e.item.items,callback:function(t){e.$set(e.item,"items",t)},expression:"item.items"}})],1)],1),e._v(" "),n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("\n            "+e._s(e.translate("registry.randomizer.form.probability"))+"\n          ")]),e._v(" "),n("v-expansion-panel-content",e._l(Array.from(new Set(e.item.items.map((function(e){return e.name})))),(function(t,r){return n("div",{key:"probability"+r+t},[e._v("\n              "+e._s(t)+" Â \n              "),n("strong",[e._v(e._s(Number(e.generateItems(e.item.items).filter((function(e){return e.name===t})).length/e.generateItems(e.item.items).length*100).toFixed(2))+"%")])])})),0)],1),e._v(" "),n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("\n            "+e._s(e.translate("registry.randomizer.form.generatedOptionsPreview"))+"\n          ")]),e._v(" "),n("v-expansion-panel-content",[0===e.generateItems(e.item.items).length?n("v-alert",{attrs:{text:"",color:"error"}},[e._v("\n              "+e._s(e.translate("registry.randomizer.form.optionsAreEmpty"))+"\n            ")]):e._l(e.generateItems(e.item.items),(function(t,r){return n("div",{key:r+t.id,style:{color:e.getContrastColor(t.color),"background-color":t.color,"min-width":"fit-content"}},[e._v("\n                "+e._s(t.name)+"\n              ")])}))],2)],1)],1)],1)],1),e._v(" "),e.loading?n("v-overlay",[n("v-row",[n("v-col",{staticClass:"text-center"},[n("v-progress-circular",{attrs:{indeterminate:"",size:"48"}})],1)],1)],1):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;D()(component,{FormExpansionPosition:n(1163).default,FormExpansionTts:n(992).default,FormExpansionFont:n(991).default,RandomizerTable:n(1164).default}),D()(component,{VAlert:E.a,VBtn:B.a,VCard:Y.a,VCheckbox:R.a,VCol:X.a,VContainer:X.b,VExpandTransition:U.a,VExpansionPanel:G.a,VExpansionPanelContent:G.b,VExpansionPanelHeader:G.c,VExpansionPanels:G.d,VFadeTransition:U.d,VForm:J.a,VIcon:M.a,VOverlay:H.a,VProgressCircular:W.a,VRow:X.d,VSelect:K.a,VSlider:L.a,VTextField:Q.a})},991:function(e,t,n){"use strict";n.r(t);n(1),n(40),n(33),n(51),n(11),n(52),n(55);var r=n(26),o=(n(81),n(25),n(62),n(4),n(37),n(39),n(82),n(31),n(5)),l=n(1025),c=n(49),d=n.n(c),m=n(54),v=n(266);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function y(e){var head=document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css",console.debug("Loading font",e);var t="@import url('https://fonts.googleapis.com/css?family="+e.replace(/ /g,"+")+"');";style.appendChild(document.createTextNode(t)),head.appendChild(style)}var x=Object(o.c)({components:{color:Object(o.b)({loader:function(){return Promise.all([n.e(14),n.e(15)]).then(n.bind(null,1162))}})},props:{parent:Object,value:Object,isChild:Boolean,title:[String,Object],id:String},setup:function(e,t){var n=Object(o.i)(0),c=Object(o.i)("#ffffff"),h=Object(o.i)(e.value),x=Object(o.i)([]),k=Object(o.i)(null!==e.value),O={family:[v.h]},_=[{value:"left",text:d()("registry.alerts.font.align.left")},{value:"right",text:d()("registry.alerts.font.align.right")},{value:"center",text:d()("registry.alerts.font.align.center")}];Object(o.p)(h,(function(e){t.emit("update:value",e),t.emit("input",e)}),{deep:!0});return Object(o.e)(Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var t=new XMLHttpRequest;t.open("GET","/fonts",!0),t.onload=function(){this.status>=200&&this.status<400||console.error("Something went wrong getting font",this.status,this.response),e({response:JSON.parse(this.response)})},t.onerror=function(){console.error("Connection error to sogebot"),e({response:{}})},t.send()}));case 2:t=e.sent,n=t.response,r=f(n.items.map((function(e){return{text:e.family,value:e.family}})));try{for(r.s();!(o=r.n()).done;)l=o.value,x.value.push(l)}catch(e){r.e(e)}finally{r.f()}h.value&&(console.log(h.value),y(h.value.family));case 7:case"end":return e.stop()}}),e)})))),Object(o.p)((function(){return h.value?h.value.family:""}),(function(e){""===e?null!==h.value&&(console.log(x.value[0]),console.log(h.value.family),h.value.family=x.value[0].value):y(e)})),Object(o.p)(k,(function(t){t?e.parent?h.value=Object(m.cloneDeep)(e.parent):h.value={align:"center",family:"PT Sans",size:24,borderPx:1,borderColor:"#000000",weight:800,color:"#ffffff",highlightcolor:"#00ff00",shadow:[]}:h.value=null})),{rules:O,alignItems:_,textStrokeGenerator:l.textStrokeGenerator,shadowGenerator:l.shadowGenerator,exampleColor:c,fonts:x,addShadow:function(){h.value&&(h.value.shadow.push({shiftRight:1,shiftDown:1,blur:5,opacity:100,color:"#ffffff"}),n.value=h.value.shadow.length-1)},removeShadow:function(e){var t;null===(t=h.value)||void 0===t||t.shadow.splice(e,1)},translate:d.a,model:h,isOverriden:k,selectedTab:n}}}),k=x,O=n(45),_=n(44),w=n.n(_),S=n(379),j=n(380),C=n(48),V=n(43),z=n(268),N=n(27),F=n(68),P=n(30),$=n(267),A=n(134),T=n(270),I=n(50),component=Object(O.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{class:{"pa-4":!e.$vuetify.breakpoint.mobile},attrs:{fluid:""}},[e._t("default"),e._v(" "),e.isChild?n("v-checkbox",{attrs:{label:e.translate("registry.alerts.font.overrideGlobal")},model:{value:e.isOverriden,callback:function(t){e.isOverriden=t},expression:"isOverriden"}}):e._e(),e._v(" "),n("v-expand-transition",[!e.isChild||e.isChild&&e.isOverriden?n("div",[n("v-autocomplete",{attrs:{id:e.id+"|fontfamily",label:e.translate("registry.alerts.font.name"),items:e.fonts,"validate-on-blur":""},model:{value:e.model.family,callback:function(t){e.$set(e.model,"family",t)},expression:"model.family"}}),e._v(" "),void 0!==e.model.align?n("v-select",{attrs:{label:e.translate("registry.alerts.font.align.name"),items:e.alignItems},model:{value:e.model.align,callback:function(t){e.$set(e.model,"align",t)},expression:"model.align"}}):e._e(),e._v(" "),void 0!==e.model.size?n("v-slider",{staticClass:"align-center",attrs:{label:e.translate("registry.alerts.font.size.name"),max:200,min:1,"thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n            "+e._s(Number(r)+"px")+"\n          ")])]}}],null,!1,374327222),model:{value:e.model.size,callback:function(t){e.$set(e.model,"size",t)},expression:"model.size"}}):e._e(),e._v(" "),n("v-slider",{staticClass:"align-center",attrs:{label:e.translate("registry.alerts.font.weight.name"),max:900,min:100,step:100,"thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n            "+e._s(Number(r))+"\n          ")])]}}],null,!1,2804873365),model:{value:e.model.weight,callback:function(t){e.$set(e.model,"weight",t)},expression:"model.weight"}}),e._v(" "),void 0!==e.model.borderPx?n("v-slider",{staticClass:"align-center",attrs:{label:e.translate("registry.alerts.font.borderPx.name"),max:100,min:0,"thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n            "+e._s(Number(r)+"px")+"\n          ")])]}}],null,!1,374327222),model:{value:e.model.borderPx,callback:function(t){e.$set(e.model,"borderPx",t)},expression:"model.borderPx"}}):e._e(),e._v(" "),void 0!==e.model.color?n("color",{attrs:{id:e.id+"|fontcolor",label:e.translate("registry.alerts.font.color.name")},model:{value:e.model.color,callback:function(t){e.$set(e.model,"color",t)},expression:"model.color"}}):e._e(),e._v(" "),void 0!==e.model.borderColor?n("color",{attrs:{id:e.id+"|fontbordercolor",label:e.translate("registry.alerts.font.borderColor.name")},model:{value:e.model.borderColor,callback:function(t){e.$set(e.model,"borderColor",t)},expression:"model.borderColor"}}):e._e(),e._v(" "),void 0!==e.model.highlightcolor?n("color",{attrs:{id:e.id+"|fonthighlightcolor",label:e.translate("registry.alerts.font.highlightcolor.name")},model:{value:e.model.highlightcolor,callback:function(t){e.$set(e.model,"highlightcolor",t)},expression:"model.highlightcolor"}}):e._e(),e._v(" "),void 0!==e.model.shadow?n("v-card",[n("v-card-text",{staticClass:"pa-0"},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"11"}},[n("v-fade-transition",{attrs:{"leave-absolute":""}},[0===e.model.shadow.length?n("v-alert",{staticClass:"ma-0",attrs:{text:"",color:"info",border:"left"}},[e._v("\n                  There are no shadow.\n                  Create a new shadow using the "),n("b",[e._v("+")]),e._v(" button on the right.\n                ")]):n("v-tabs",{ref:"tabs",attrs:{"show-arrows":"","center-active":"","leave-absolute":""},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.model.shadow,(function(shadow,t){return n("v-tab",{key:"shadow"+t},[e._v("\n                    Shadow "+e._s(t+1)+"\n                  ")])})),1)],1)],1),e._v(" "),n("v-col",{staticClass:"text-center",attrs:{cols:"1","align-self":"center"}},[n("v-btn",{attrs:{icon:""},on:{click:e.addShadow}},[n("v-icon",[e._v("mdi-plus")])],1)],1)],1),e._v(" "),n("v-expand-transition",[e.model.shadow.length>0?n("v-tabs-items",{model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.model.shadow,(function(shadow,t){return n("v-tab-item",{key:"shadow2"+t,staticClass:"ma-2"},[n("v-slider",{staticClass:"align-center",attrs:{label:e.translate("dialog.font.shadowShiftRight"),max:50,min:-50,"thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n                      "+e._s(Number(r)+"px")+"\n                    ")])]}}],null,!0),model:{value:shadow.shiftRight,callback:function(t){e.$set(shadow,"shiftRight",t)},expression:"shadow.shiftRight"}}),e._v(" "),n("v-slider",{staticClass:"align-center",attrs:{label:e.translate("dialog.font.shadowShiftDown"),max:50,min:-50,"thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n                      "+e._s(Number(r)+"px")+"\n                    ")])]}}],null,!0),model:{value:shadow.shiftDown,callback:function(t){e.$set(shadow,"shiftDown",t)},expression:"shadow.shiftDown"}}),e._v(" "),n("v-slider",{staticClass:"align-center",attrs:{label:e.translate("dialog.font.shadowBlur"),max:50,min:0,"thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n                      "+e._s(Number(r))+"\n                    ")])]}}],null,!0),model:{value:shadow.blur,callback:function(t){e.$set(shadow,"blur",t)},expression:"shadow.blur"}}),e._v(" "),n("v-slider",{staticClass:"align-center",attrs:{label:e.translate("dialog.font.shadowOpacity"),max:100,min:0,"thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n                      "+e._s(Number(r)+"%")+"\n                    ")])]}}],null,!0),model:{value:shadow.opacity,callback:function(t){e.$set(shadow,"opacity",t)},expression:"shadow.opacity"}}),e._v(" "),n("color",{attrs:{label:e.translate("dialog.font.color")},model:{value:shadow.color,callback:function(t){e.$set(shadow,"color",t)},expression:"shadow.color"}}),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"error"},on:{click:function(n){return e.removeShadow(t)}}},[e._v("\n                    "+e._s(e.translate("dialog.buttons.delete"))+"\n                  ")])],1)],1)})),1):e._e()],1),e._v(" "),n("v-sheet",{staticClass:"mt-4 pb-4",style:{color:void 0===e.model.color?e.exampleColor:e.model.color,"font-size":e.model.size+"px","font-weight":e.model.weight,"font-family":"'"+e.model.family+"'","text-align":"center","text-shadow":[e.textStrokeGenerator(e.model.borderPx,e.model.borderColor),e.shadowGenerator(e.model.shadow)].filter(Boolean).join(", ")}},[n("div",{style:{lineHeight:e.model.size+15+"px",width:"90%"}},[n("div",{staticClass:"text-center",staticStyle:{overflow:"visible !important"}},[e._v("\n                The quick brown fox jumps over the lazy dog\n              ")])]),e._v(" "),void 0===e.model.color?n("color",{staticStyle:{width:"100px"},attrs:{"only-color":"",label:"Example Color"},model:{value:e.exampleColor,callback:function(t){e.exampleColor=t},expression:"exampleColor"}}):e._e()],1)],1)],1):e._e()],1):e._e()])],2)}),[],!1,null,null,null);t.default=component.exports;w()(component,{VAlert:S.a,VAutocomplete:j.a,VBtn:C.a,VCard:V.a,VCardActions:V.b,VCardText:V.d,VCheckbox:z.a,VCol:N.a,VContainer:N.b,VExpandTransition:F.a,VFadeTransition:F.d,VIcon:P.a,VRow:N.d,VSelect:$.a,VSheet:A.a,VSlider:T.a,VSpacer:N.e,VTab:I.a,VTabItem:I.b,VTabs:I.c,VTabsItems:I.d})},992:function(e,t,n){"use strict";n.r(t);n(1),n(40),n(51),n(11),n(52),n(55);var r=n(26),o=(n(81),n(46),n(31),n(33),n(25),n(69),n(37),n(39),n(4),n(71),n(34),n(47),n(12),n(5)),l=n(770),c=n(21),d=n(49),m=n.n(d);function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function h(e){return void 0===e}var y=Object(o.c)({props:{value:Object,readonly:Boolean},setup:function(e,t){var n,text=Object(o.i)("This message should be said by TTS to test your settings."),d=Object(o.i)({loaded:l.ButtonStates.progress}),f=Object(o.i)(0),y=Object(o.i)(null!==(n=e.value)&&void 0!==n?n:{voice:0===Object(o.o)().state.configuration.core.tts.service?"UK English Female":1===Object(o.o)().state.configuration.core.tts.service?"en-US-Wavenet-A":"(pt-BR) - Male - Ricardo",volume:1,rate:1,pitch:1}),x=Object(o.i)([]);function k(){void 0!==window.responsiveVoice?(window.responsiveVoice.init(),x.value=window.responsiveVoice.getVoices().map((function(e){return{text:e.name,value:e.name}})),d.value.loaded=l.ButtonStates.success):setTimeout((function(){return k()}),200)}function O(){return(O=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=v(text.value.split("/ ")),e.prev=1,r=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.value,e.next=3,new Promise((function(e){if(0===t.trim().length)setTimeout((function(){return e()}),500);else{(n=y.value)&&Object.keys(n).includes("voice")&&y.value?0===f.value?window.responsiveVoice.speak(t.trim(),y.value.voice,{rate:y.value.rate,pitch:y.value.pitch,volume:y.value.volume,onend:function(){return setTimeout((function(){return e()}),500)}}):1===f.value?Object(c.getSocket)("/core/tts").emit("google::speak",{rate:y.value.rate,pitch:y.value.pitch,volume:y.value.volume,voice:y.value.voice,text:text.value},(function(e,t){e&&console.error(e),new Audio("data:audio/mp3;base64,"+t).play()})):2===f.value&&Object(c.getSocket)("/core/tts").emit("streamlabs::speak",{voice:y.value.voice,text:text.value},(function(e,t){if(e)return console.error(e);new Audio(t).play()})):console.error("You should not see this message, speak should be disabled in this extension panel - please log a bug")}var n}));case 3:case"end":return e.stop()}}),e)})),t.s();case 4:if((n=t.n()).done){e.next=8;break}return e.delegateYield(r(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),t.e(e.t1);case 13:return e.prev=13,t.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))).apply(this,arguments)}return Object(o.f)((function(){d.value.loaded=l.ButtonStates.progress;var e=Object(o.o)();-1===e.state.configuration.core.tts.service||0===e.state.configuration.core.tts.service&&0===e.state.configuration.core.tts.responsiveVoiceKey.length||1===e.state.configuration.core.tts.service&&0===e.state.configuration.core.tts.googlePrivateKey.length?d.value.loaded=l.ButtonStates.fail:0===e.state.configuration.core.tts.service?(f.value=0,k()):1===e.state.configuration.core.tts.service?(f.value=1,x.value=e.state.configuration.core.tts.googleVoices,d.value.loaded=l.ButtonStates.success):2===e.state.configuration.core.tts.service&&(f.value=2,x.value=e.state.configuration.core.tts.streamlabsVoices,d.value.loaded=l.ButtonStates.success)})),Object(o.p)(y,(function(e){t.emit("input",e)}),{deep:!0}),0===Object(o.o)().state.configuration.core.tts.service&&Object(o.l)({script:[{hid:"responsivevoice",src:"https://code.responsivevoice.org/responsivevoice.js?key="+Object(o.o)().state.configuration.core.tts.responsiveVoiceKey}]}),{voices:x,isUndefined:h,model:y,state:d,text:text,service:f,translate:m.a,ButtonStates:l.ButtonStates,speak:function(){return O.apply(this,arguments)}}},head:{}}),x=y,k=n(45),O=n(44),_=n.n(O),w=n(379),S=n(380),j=n(48),C=n(268),V=n(762),z=n(30),N=n(142),F=n(143),P=n(270),$=n(140),A=n(773),component=Object(k.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-expansion-panel",{attrs:{readonly:e.readonly}},[n("v-expansion-panel-header",[e._v("\n    "+e._s(e.translate("registry.alerts.tts.setting"))+"\n  ")]),e._v(" "),n("v-expansion-panel-content",[e.state.loaded===e.ButtonStates.progress?n("v-overlay",{attrs:{absolute:""}},[n("v-progress-circular",{staticClass:"text-center",attrs:{indeterminate:""}})],1):e.state.loaded===e.ButtonStates.success?n("div",[e.isUndefined(e.model.enabled)?e._e():n("v-checkbox",{attrs:{label:e.translate("registry.alerts.enabled")},model:{value:e.model.enabled,callback:function(t){e.$set(e.model,"enabled",t)},expression:"model.enabled"}}),e._v(" "),e.isUndefined(e.model.voice)?e._e():n("v-autocomplete",{attrs:{label:e.translate("registry.alerts.voice"),items:e.voices},model:{value:e.model.voice,callback:function(t){e.$set(e.model,"voice",t)},expression:"model.voice"}}),e._v(" "),e.isUndefined(e.model.volume)||2===e.service?e._e():n("v-slider",{attrs:{label:e.translate("registry.alerts.volume"),min:"0",max:"1",step:"0.01","thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n            "+e._s(Number(100*r).toFixed(0)+"%")+"\n          ")])]}}],null,!1,2739770866),model:{value:e.model.volume,callback:function(t){e.$set(e.model,"volume",e._n(t))},expression:"model.volume"}}),e._v(" "),e.isUndefined(e.model.rate)||2===e.service?e._e():n("v-slider",{attrs:{label:e.translate("registry.alerts.rate"),min:"0",max:0===e.service?1.5:4,step:"0.1","thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n            "+e._s(r)+"\n          ")])]}}],null,!1,1782250359),model:{value:e.model.rate,callback:function(t){e.$set(e.model,"rate",e._n(t))},expression:"model.rate"}}),e._v(" "),e.isUndefined(e.model.pitch)||2===e.service?e._e():n("v-slider",{attrs:{label:e.translate("registry.alerts.pitch"),min:0===e.service?0:-20,max:0===e.service?2:20,step:0===e.service?.1:1,"thumb-size":0,"thumb-label":"always"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[n("div",{staticStyle:{transform:"translateY(-8px)"}},[e._v("\n            "+e._s(r)+"\n          ")])]}}],null,!1,1782250359),model:{value:e.model.pitch,callback:function(t){e.$set(e.model,"pitch",e._n(t))},expression:"model.pitch"}}),e._v(" "),e.isUndefined(e.model.minAmountToPlay)?e._e():n("v-text-field",{attrs:{label:e.translate("registry.alerts.minAmountToPlay.name"),type:"number",min:"0"},model:{value:e.model.minAmountToPlay,callback:function(t){e.$set(e.model,"minAmountToPlay",t)},expression:"model.minAmountToPlay"}}),e._v(" "),e.isUndefined(e.model.skipUrls)?e._e():n("v-checkbox",{attrs:{label:e.translate("registry.alerts.skipUrls")},model:{value:e.model.skipUrls,callback:function(t){e.$set(e.model,"skipUrls",t)},expression:"model.skipUrls"}}),e._v(" "),e.isUndefined(e.model.keepAlertShown)?e._e():n("v-checkbox",{attrs:{label:e.translate("registry.alerts.keepAlertShown")},model:{value:e.model.keepAlertShown,callback:function(t){e.$set(e.model,"keepAlertShown",t)},expression:"model.keepAlertShown"}}),e._v(" "),e._t("append"),e._v(" "),e.isUndefined(e.model.voice)?e._e():n("v-textarea",{attrs:{label:e.translate("registry.alerts.test"),"auto-grow":"",rows:"1"},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.speak()}}},[n("v-icon",[e._v("mdi-play")])],1)]},proxy:!0}],null,!1,2726491292),model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],2):n("v-alert",{staticClass:"ma-0",attrs:{text:"",color:"info",border:"left"}},[e._v("\n      TTS is not properly set, go to "),n("nuxt-link",{attrs:{to:"/settings/modules/core/tts"}},[e._v("\n        TTS settings\n      ")]),e._v(" and configure.\n    ")],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;_()(component,{VAlert:w.a,VAutocomplete:S.a,VBtn:j.a,VCheckbox:C.a,VExpansionPanel:V.a,VExpansionPanelContent:V.b,VExpansionPanelHeader:V.c,VIcon:z.a,VOverlay:N.a,VProgressCircular:F.a,VSlider:P.a,VTextField:$.a,VTextarea:A.a})}}]);