(window.webpackJsonp=window.webpackJsonp||[]).push([[170],{1243:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AlertClone"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertClone"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:67}};t.loc.source={body:"mutation AlertClone($id: String!) {\n  alertClone(id: $id) { id }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}var l={};function d(e,n){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==n)return element}}t.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),l[e.name.value]=n}})),e.exports=t,e.exports.AlertClone=function(e,n){var t={kind:e.kind,definitions:[d(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=l[n]||new Set,o=new Set,c=new Set;for(r.forEach((function(e){c.add(e)}));c.size>0;){var v=c;c=new Set,v.forEach((function(e){o.has(e)||(o.add(e),(l[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(n){var r=d(e,n);r&&t.definitions.push(r)})),t}(t,"AlertClone")},1244:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AlertRemove"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertRemove"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}}],loc:{start:0,end:62}};t.loc.source={body:"mutation AlertRemove($id: String!) {\n  alertRemove(id: $id)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}var l={};function d(e,n){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==n)return element}}t.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),l[e.name.value]=n}})),e.exports=t,e.exports.AlertRemove=function(e,n){var t={kind:e.kind,definitions:[d(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=l[n]||new Set,o=new Set,c=new Set;for(r.forEach((function(e){c.add(e)}));c.size>0;){var v=c;c=new Set,v.forEach((function(e){o.has(e)||(o.add(e),(l[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(n){var r=d(e,n);r&&t.definitions.push(r)})),t}(t,"AlertRemove")},1460:function(e,n,t){"use strict";t.r(n);var r=t(1),l=t(60),d=t(35),o=t(26),c=(t(4),t(13),t(28),t(8),t(81),t(49)),v=t.n(c),m=t(776),f=t(141),k=t(1243),h=t.n(k),S=t(999),_=t.n(S),y=t(1244),x=t.n(y),w={setup:function(e,n){var t=Object(l.d)().$graphql,c=Object(r.J)(!0),k=Object(r.J)([]),S=Object(r.J)([]),y=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.default.request(_.a);case 2:data=e.sent,S.value=data.alerts,c.value=!1;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=Object(r.J)(""),N=Object(r.J)([]),D=Object(r.J)([]),E=Object(r.J)(!1),F=Object(r.J)(!1);Object(r.Y)(F,(function(e){e||(N.value=[])}));var O=[{value:"name",text:v()("registry.alerts.name.name")},{value:"additional",text:v()("registry.customvariables.additional-info")},{value:"actions",text:""}];Object(r.A)((function(){y()}));return{addToSelectedItem:m.a,loading:c,cloning:k,items:S,search:w,selected:N,currentItems:D,saveCurrentItems:function(e){D.value=e},deleteDialog:E,selectable:F,headers:O,headersDelete:[{value:"name",text:""}],deleteSelected:function(){E.value=!1,N.value.forEach((function(e){t.default.request(x.a,{id:e.id})})),N.value=[],f.a.$emit("snack","success","Data removed.")},clone:function(e){k.value=[].concat(Object(d.a)(k.value),[e]),t.default.request(h.a,{id:e}).then((function(){f.a.$emit("snack","success","Data cloned."),y(),k.value=k.value.filter((function(n){return n!==e}))}))}}}},N=w,D=t(45),E=t(44),F=t.n(E),O=t(48),C=t(43),V=t(27),A=t(269),T=t(378),I=t(383),R=t(30),j=t(134),J=t(140),component=Object(D.a)(N,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",{class:{"pa-4":!e.$vuetify.breakpoint.mobile},attrs:{fluid:""}},[t("v-data-table",{attrs:{"calculate-widths":"","show-select":e.selectable,search:e.search,loading:e.loading,headers:e.headers,"items-per-page":-1,items:e.items,"sort-by":"name"},on:{"current-items":e.saveCurrentItems,"click:row":function(n){return e.addToSelectedItem(e.selected,"id",e.currentItems)}},scopedSlots:e._u([{key:"top",fn:function(){return[t("v-sheet",{staticClass:"my-2 pb-2 mt-0",attrs:{flat:"",color:"dark"}},[t("v-row",{staticClass:"px-2",attrs:{"no-gutters":""}},[t("v-col",{staticClass:"pr-2",attrs:{cols:"auto","align-self":"center"}},[t("v-btn",{attrs:{icon:"",color:e.selectable?"primary":"secondary"},on:{click:function(n){e.selectable=!e.selectable}}},[t("v-icon",[e._v("\n                mdi-checkbox-multiple-marked-outline\n              ")])],1)],1),e._v(" "),t("v-col",{attrs:{"align-self":"center"}},[t("v-text-field",{staticClass:"pa-0 ma-2",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(n){e.search=n},expression:"search"}})],1),e._v(" "),t("v-col",{attrs:{cols:"auto","align-self":"center"}},[e.selected.length>0?[t("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[t("v-btn",e._g(e._b({staticClass:"mr-1",attrs:{color:"error"}},"v-btn",l,!1),r),[e._v("\n                    Delete "+e._s(e.selected.length)+" Item(s)\n                  ")])]}}],null,!1,1852500087),model:{value:e.deleteDialog,callback:function(n){e.deleteDialog=n},expression:"deleteDialog"}},[e._v(" "),t("v-card",[t("v-card-title",[t("span",{staticClass:"headline"},[e._v("Delete "+e._s(e.selected.length)+" Item(s)?")])]),e._v(" "),t("v-card-text",[t("v-data-table",{attrs:{dense:"",items:e.selected,headers:e.headersDelete,"items-per-page":-1,"hide-default-header":"","hide-default-footer":""}})],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{text:""},on:{click:function(n){e.deleteDialog=!1}}},[e._v("\n                      Cancel\n                    ")]),e._v(" "),t("v-btn",{attrs:{color:"error",text:""},on:{click:e.deleteSelected}},[e._v("\n                      Delete\n                    ")])],1)],1)],1)]:e._e(),e._v(" "),t("registry-alerts-test-dialog"),e._v(" "),t("v-btn",{attrs:{color:"primary",to:"/registry/alerts/new",nuxt:""}},[e._v("\n              New Item\n            ")])],2)],1)],1)]},proxy:!0},{key:"item.additional",fn:function(n){var r=n.item;return[t("span",{class:{"primary--text":r.follows.length>0,"grey--text text--darken-3":0===r.follows.length}},[e._v("\n        FOLLOW"),r.follows.length>0?t("span",[e._v("("+e._s(r.follows.length)+")")]):e._e()]),e._v(" "),t("span",{class:{"primary--text":r.hosts.length>0,"grey--text text--darken-3":0===r.hosts.length}},[e._v("\n        HOSTS"),r.hosts.length>0?t("span",[e._v("("+e._s(r.hosts.length)+")")]):e._e()]),e._v(" "),t("span",{class:{"primary--text":r.raids.length>0,"grey--text text--darken-3":0===r.raids.length}},[e._v("\n        RAID"),r.raids.length>0?t("span",[e._v("("+e._s(r.raids.length)+")")]):e._e()]),e._v(" "),t("span",{class:{"primary--text":r.cheers.length>0,"grey--text text--darken-3":0===r.cheers.length}},[e._v("\n        CHEERS"),r.cheers.length>0?t("span",[e._v("("+e._s(r.cheers.length)+")")]):e._e()]),e._v(" "),t("span",{class:{"primary--text":r.subs.length>0,"grey--text text--darken-3":0===r.subs.length}},[e._v("\n        SUBS"),r.subs.length>0?t("span",[e._v("("+e._s(r.subs.length)+")")]):e._e()]),e._v(" "),t("span",{class:{"primary--text":r.resubs.length>0,"grey--text text--darken-3":0===r.resubs.length}},[e._v("\n        RESUBS"),r.resubs.length>0?t("span",[e._v("("+e._s(r.resubs.length)+")")]):e._e()]),e._v(" "),t("span",{class:{"primary--text":r.subgifts.length>0,"grey--text text--darken-3":0===r.subgifts.length}},[e._v("\n        SUBGIFTS"),r.subgifts.length>0?t("span",[e._v("("+e._s(r.subgifts.length)+")")]):e._e()]),e._v(" "),t("span",{class:{"primary--text":r.subcommunitygifts.length>0,"grey--text text--darken-3":0===r.subcommunitygifts.length}},[e._v("\n        SUBCOMMUNITYGIFTS"),r.subcommunitygifts.length>0?t("span",[e._v("("+e._s(r.subcommunitygifts.length)+")")]):e._e()]),e._v(" "),t("span",{class:{"primary--text":r.tips.length>0,"grey--text text--darken-3":0===r.tips.length}},[e._v("\n        TIPS"),r.tips.length>0?t("span",[e._v("("+e._s(r.tips.length)+")")]):e._e()]),e._v(" "),t("span",{class:{"primary--text":r.cmdredeems.length>0,"grey--text text--darken-3":0===r.cmdredeems.length}},[e._v("\n        CMDREDEEMS"),r.cmdredeems.length>0?t("span",[e._v("("+e._s(r.cmdredeems.length)+")")]):e._e()]),e._v(" "),t("span",{class:{"primary--text":r.rewardredeems.length>0,"grey--text text--darken-3":0===r.rewardredeems.length}},[e._v("\n        RWDREDEEMS"),r.rewardredeems.length>0?t("span",[e._v("("+e._s(r.rewardredeems.length)+")")]):e._e()])]}},{key:"item.actions",fn:function(n){var r=n.item;return[t("v-hover",{scopedSlots:e._u([{key:"default",fn:function(n){var l=n.hover;return[t("v-btn",{attrs:{icon:"",color:l?"primary":"secondary lighten-3",nuxt:"",to:"/registry/alerts/"+r.id},on:{click:function(e){e.stopPropagation()}}},[t("v-icon",[e._v("mdi-pencil")])],1)]}}],null,!0)}),e._v(" "),t("v-hover",{scopedSlots:e._u([{key:"default",fn:function(n){var l=n.hover;return[t("v-btn",{attrs:{loading:e.cloning.includes(r.id),icon:"",color:l?"primary":"secondary lighten-3"},on:{click:function(n){return n.stopPropagation(),e.clone(r.id)}}},[t("v-icon",[e._v("mdi-content-copy")])],1)]}}],null,!0)}),e._v(" "),t("v-hover",{scopedSlots:e._u([{key:"default",fn:function(n){var l=n.hover;return[t("v-btn",{attrs:{icon:"",color:l?"primary":"secondary lighten-3",href:"/overlays/alerts/"+r.id}},[t("v-icon",[e._v("mdi-link")])],1)]}}],null,!0)})]}}],null,!0),model:{value:e.selected,callback:function(n){e.selected=n},expression:"selected"}})],1)}),[],!1,null,null,null);n.default=component.exports;F()(component,{RegistryAlertsTestDialog:t(1413).default}),F()(component,{VBtn:O.a,VCard:C.a,VCardActions:C.b,VCardText:C.d,VCardTitle:C.e,VCol:V.a,VContainer:V.b,VDataTable:A.a,VDialog:T.a,VHover:I.a,VIcon:R.a,VRow:V.d,VSheet:j.a,VSpacer:V.e,VTextField:J.a})},776:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var r=t(35);t(94),t(8),t(4),t(82),t(51),t(37),t(213),t(214),t(215),t(216),t(217),t(218),t(219),t(220),t(221),t(222),t(223),t(224),t(225),t(226),t(227),t(228),t(229),t(39);function l(e,n,t){var l=null,d="select";return function(o){var c=void 0===e.value?e:e.value,v=c.findIndex((function(e){return e[n]===o[n]})),m=!1;if(window.event&&(m=!!window.event.shiftKey),m){var f=t.value.findIndex((function(e){return e[n]===l})),k=t.value.findIndex((function(e){return e[n]===o[n]}));if("select"===d)for(var i=Math.min(f,k);i<=Math.max(f,k);i++)c.push(t.value[i]);else c=c.filter((function(e){for(var n=!0,r=Math.min(f,k);r<=Math.max(f,k);r++)if(e===t.value[r]){n=!1;break}return n}))}else l=o[n],-1===v?(c.push(o),d="select"):(c.splice(v,1),d="unselect");c=Array.from(new Set(Object(r.a)(c))),console.log(c)}}},999:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AlertGetAll"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"follows"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subgifts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subcommunitygifts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"hosts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"raids"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tips"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cheers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"resubs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cmdredeems"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rewardredeems"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:269}};t.loc.source={body:"query AlertGetAll {\n  alerts {\n    id\n    name\n    follows { id }\n    subs { id }\n    subgifts { id }\n    subcommunitygifts { id }\n    hosts { id }\n    raids { id }\n    tips { id }\n    cheers { id }\n    resubs { id }\n    cmdredeems { id }\n    rewardredeems { id }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}var l={};function d(e,n){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==n)return element}}t.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),l[e.name.value]=n}})),e.exports=t,e.exports.AlertGetAll=function(e,n){var t={kind:e.kind,definitions:[d(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=l[n]||new Set,o=new Set,c=new Set;for(r.forEach((function(e){c.add(e)}));c.size>0;){var v=c;c=new Set,v.forEach((function(e){o.has(e)||(o.add(e),(l[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(n){var r=d(e,n);r&&t.definitions.push(r)})),t}(t,"AlertGetAll")}}]);