(window.webpackJsonp=window.webpackJsonp||[]).push([[233],{1011:function(e,t,r){var map={"./af":830,"./af.js":830,"./ar":831,"./ar-dz":832,"./ar-dz.js":832,"./ar-kw":833,"./ar-kw.js":833,"./ar-ly":834,"./ar-ly.js":834,"./ar-ma":835,"./ar-ma.js":835,"./ar-sa":836,"./ar-sa.js":836,"./ar-tn":837,"./ar-tn.js":837,"./ar.js":831,"./az":838,"./az.js":838,"./be":839,"./be.js":839,"./bg":840,"./bg.js":840,"./bm":841,"./bm.js":841,"./bn":842,"./bn-bd":843,"./bn-bd.js":843,"./bn.js":842,"./bo":844,"./bo.js":844,"./br":845,"./br.js":845,"./bs":846,"./bs.js":846,"./ca":847,"./ca.js":847,"./cs":848,"./cs.js":848,"./cv":849,"./cv.js":849,"./cy":850,"./cy.js":850,"./da":851,"./da.js":851,"./de":852,"./de-at":853,"./de-at.js":853,"./de-ch":854,"./de-ch.js":854,"./de.js":852,"./dv":855,"./dv.js":855,"./el":856,"./el.js":856,"./en-au":857,"./en-au.js":857,"./en-ca":858,"./en-ca.js":858,"./en-gb":859,"./en-gb.js":859,"./en-ie":860,"./en-ie.js":860,"./en-il":861,"./en-il.js":861,"./en-in":862,"./en-in.js":862,"./en-nz":863,"./en-nz.js":863,"./en-sg":864,"./en-sg.js":864,"./eo":865,"./eo.js":865,"./es":866,"./es-do":867,"./es-do.js":867,"./es-mx":868,"./es-mx.js":868,"./es-us":869,"./es-us.js":869,"./es.js":866,"./et":870,"./et.js":870,"./eu":871,"./eu.js":871,"./fa":872,"./fa.js":872,"./fi":873,"./fi.js":873,"./fil":874,"./fil.js":874,"./fo":875,"./fo.js":875,"./fr":876,"./fr-ca":877,"./fr-ca.js":877,"./fr-ch":878,"./fr-ch.js":878,"./fr.js":876,"./fy":879,"./fy.js":879,"./ga":880,"./ga.js":880,"./gd":881,"./gd.js":881,"./gl":882,"./gl.js":882,"./gom-deva":883,"./gom-deva.js":883,"./gom-latn":884,"./gom-latn.js":884,"./gu":885,"./gu.js":885,"./he":886,"./he.js":886,"./hi":887,"./hi.js":887,"./hr":888,"./hr.js":888,"./hu":889,"./hu.js":889,"./hy-am":890,"./hy-am.js":890,"./id":891,"./id.js":891,"./is":892,"./is.js":892,"./it":893,"./it-ch":894,"./it-ch.js":894,"./it.js":893,"./ja":895,"./ja.js":895,"./jv":896,"./jv.js":896,"./ka":897,"./ka.js":897,"./kk":898,"./kk.js":898,"./km":899,"./km.js":899,"./kn":900,"./kn.js":900,"./ko":901,"./ko.js":901,"./ku":902,"./ku.js":902,"./ky":903,"./ky.js":903,"./lb":904,"./lb.js":904,"./lo":905,"./lo.js":905,"./lt":906,"./lt.js":906,"./lv":907,"./lv.js":907,"./me":908,"./me.js":908,"./mi":909,"./mi.js":909,"./mk":910,"./mk.js":910,"./ml":911,"./ml.js":911,"./mn":912,"./mn.js":912,"./mr":913,"./mr.js":913,"./ms":914,"./ms-my":915,"./ms-my.js":915,"./ms.js":914,"./mt":916,"./mt.js":916,"./my":917,"./my.js":917,"./nb":918,"./nb.js":918,"./ne":919,"./ne.js":919,"./nl":920,"./nl-be":921,"./nl-be.js":921,"./nl.js":920,"./nn":922,"./nn.js":922,"./oc-lnc":923,"./oc-lnc.js":923,"./pa-in":924,"./pa-in.js":924,"./pl":925,"./pl.js":925,"./pt":926,"./pt-br":927,"./pt-br.js":927,"./pt.js":926,"./ro":928,"./ro.js":928,"./ru":929,"./ru.js":929,"./sd":930,"./sd.js":930,"./se":931,"./se.js":931,"./si":932,"./si.js":932,"./sk":933,"./sk.js":933,"./sl":934,"./sl.js":934,"./sq":935,"./sq.js":935,"./sr":936,"./sr-cyrl":937,"./sr-cyrl.js":937,"./sr.js":936,"./ss":938,"./ss.js":938,"./sv":939,"./sv.js":939,"./sw":940,"./sw.js":940,"./ta":941,"./ta.js":941,"./te":942,"./te.js":942,"./tet":943,"./tet.js":943,"./tg":944,"./tg.js":944,"./th":945,"./th.js":945,"./tk":946,"./tk.js":946,"./tl-ph":947,"./tl-ph.js":947,"./tlh":948,"./tlh.js":948,"./tr":949,"./tr.js":949,"./tzl":950,"./tzl.js":950,"./tzm":951,"./tzm-latn":952,"./tzm-latn.js":952,"./tzm.js":951,"./ug-cn":953,"./ug-cn.js":953,"./uk":954,"./uk.js":954,"./ur":955,"./ur.js":955,"./uz":956,"./uz-latn":957,"./uz-latn.js":957,"./uz.js":956,"./vi":958,"./vi.js":958,"./x-pseudo":959,"./x-pseudo.js":959,"./yo":960,"./yo.js":960,"./zh-cn":961,"./zh-cn.js":961,"./zh-hk":962,"./zh-hk.js":962,"./zh-mo":963,"./zh-mo.js":963,"./zh-tw":964,"./zh-tw.js":964};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}n.keys=function(){return Object.keys(map)},n.resolve=o,e.exports=n,n.id=1011},1522:function(e,t,r){"use strict";r.r(t);r(1),r(40),r(33),r(51),r(37),r(25),r(11),r(52),r(55),r(39);var n=r(23),o=r(2),l=(r(8),r(4),r(34),r(47),r(12),r(24),r(133),r(273),r(31),r(5)),j=r(771),c=r(118),f=r(21),m=r(49),d=r.n(m),v=r(1010),h=r.n(v),y=r(54),k=r(3),w=r(1012),z=r(783);function O(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,j=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){j=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(j)throw o}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}k.default.use(w.a.use(h.a));var S=Object(l.c)({setup:function(){var e=Object(l.i)(""),t=Object(l.i)(String((new Date).getFullYear())),r=Object(l.i)([]),m=Object(l.a)((function(){return""===e.value?r.value:r.value.filter((function(t){var r=t.message.toLowerCase().includes(e.value.toLowerCase()),n=t.userId.toLowerCase().includes(e.value.toLowerCase()),o=t.username.toLowerCase().includes(e.value.toLowerCase());return r||n||o}))})),v=Object(l.i)({loading:j.ButtonStates.progress}),h=[{value:"cheeredAt",text:Object(y.capitalize)(d()("date"))},{value:"amount",text:Object(y.capitalize)(d()("responses.variable.amount"))},{value:"message",text:Object(y.capitalize)(d()("message")),sortable:!1},{value:"user",text:Object(y.capitalize)(d()("user"))}],k=function(){Object(f.getSocket)("/stats/bits").emit("generic::getAll",(function(e,t){if(e)return console.error(e);r.value=t,v.value.loading=j.ButtonStates.success}))};Object(l.f)((function(){k()}));var w=Object(l.a)((function(){return Object.keys(x.value)})),x=Object(l.a)((function(){var e,t=Object(o.a)({},(new Date).getFullYear(),[]),n=O(r.value);try{for(n.s();!(e=n.n()).done;){var l=e.value,j=new Date(l.cheeredAt).getFullYear();t[j]?t[j].push(l):t[j]=[l]}}catch(e){n.e(e)}finally{n.f()}return t})),S=Object(l.a)((function(){var e,r={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[],11:[]},n=O(x.value[Number(t.value)]);try{for(n.s();!(e=n.n()).done;){var o=e.value,l=new Date(o.cheeredAt).getMonth();r[l]?r[l].push(o):r[l]=[o]}}catch(e){n.e(e)}finally{n.f()}return r})),C=Object(l.a)((function(){for(var data=[],e=0,t=Object.entries(S.value);e<t.length;e++){var r=Object(n.a)(t[e],2),o=r[0],l=r[1],j=Object(c.dayjs)().month(Number(o)).format("MMMM");data.push([j,Number(l.reduce((function(a,b){return a+b.amount}),0).toFixed(2))])}return data})),A=Object(l.a)((function(){return w.value.map((function(e){return{text:e,value:e}}))}));return{orderBy:y.orderBy,headers:h,search:e,items:r,state:v,getPermissionName:z.a,translate:d.a,refresh:k,capitalize:y.capitalize,dayjs:c.dayjs,fItems:m,generateChartData:C,yearItems:A,selectedYear:t,ButtonStates:j.ButtonStates}}}),C=r(45),A=r(44),_=r.n(A),L=r(27),I=r(268),D=r(266),M=r(140),B=r(120),component=Object(C.a)(S,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{class:{"pa-4":!e.$vuetify.breakpoint.mobile},attrs:{fluid:""}},[r("v-data-table",{attrs:{loading:e.state.loading!==e.ButtonStates.success,headers:e.headers,items:e.fItems,"sort-by":"cheeredAt"},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:""}},[r("v-container",{staticClass:"pt-10 px-0",attrs:{fluid:""}},[r("v-row",[r("v-col",[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),r("v-col",{attrs:{cols:"auto"}},[r("v-select",{attrs:{value:e.selectedYear,label:e.capitalize(e.translate("bot.years").split("|")[0]),items:e.yearItems}})],1)],1)],1)],1),e._v(" "),r("column-chart",{staticClass:"pa-2",attrs:{data:e.generateChartData,ytitle:e.$store.state.configuration.currency}})]},proxy:!0},{key:"item.cheeredAt",fn:function(t){var r=t.item;return[e._v("\n      "+e._s(e.dayjs(r.cheeredAt).format("LL"))+" "+e._s(e.dayjs(r.cheeredAt).format("LTS"))+"\n    ")]}},{key:"item.user",fn:function(t){var n=t.item;return[r("NuxtLink",{attrs:{to:"/manage/viewers/"+n.userId}},[e._v("\n        "+e._s(n.username)+"Â "),r("small",{staticClass:"text-muted"},[e._v(e._s(n.userId))])])]}}],null,!0)})],1)}),[],!1,null,null,null);t.default=component.exports;_()(component,{VCol:L.a,VContainer:L.b,VDataTable:I.a,VRow:L.d,VSelect:D.a,VTextField:M.a,VToolbar:B.a})},783:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(73),r(4),r(71),r(33);var n=function(e,t){if(!t)throw new Error("Missing permissions list");if(!e)return"-- unset --";var r=t.find((function(t){return t.id===e}));return void 0!==r?""===r.name.trim()?r.id:r.name:null}}}]);