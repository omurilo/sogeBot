(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{1149:function(e,t,n){"use strict";n.r(t);var r,l=n(1),o=(n(40),n(4),n(33),n(51),n(37),n(25),n(11),n(52),n(55),n(39),n(147)),c=n(110),v=n(26),d=(n(81),n(46),n(71),n(12),n(28),n(272)),m=n(5),f=n(385),h=n(49),y=n.n(h),k=n(148),x=n(778),_=n.n(x),w=n(803),j=n.n(w),O=n(173),V=n(80),A=n(141),$=["__typename","id"];function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,l=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw l}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var I={alias:"",command:"",enabled:!0,visible:!0,permission:f.defaultPermissions.VIEWERS,group:null},J=Object(l.h)({props:{value:Object,rules:Object,permissionItems:Array,groupItems:Array},setup:function(e,t){var n=Object(m.k)(),menu=Object(l.J)(!1),f=Object(l.J)(j()(e.value||I)),h=Object(l.J)(!0),form=Object(l.J)(null),x=Object(l.J)(""),w=Object(l.J)(!1),C=function t(){h.value=!0,form.value?(form.value.resetValidation(),f.value=j()(e.value||I),f.value.id&&setTimeout((function(){f.value.command=f.value.command+" ",Object(d.nextTick)((function(){f.value.command=f.value.command.trim()}))}),200)):setTimeout((function(){t()}),100)};Object(l.Y)(menu,(function(e){e&&C()}));var J=function(){var l=Object(v.a)(regeneratorRuntime.mark((function l(){var v,d,m,h,y,x,_,j,C,data;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(!form.value.validate()){l.next=44;break}v=0,d=Object.keys(e.rules);case 2:if(!(v<d.length)){l.next=29;break}m=d[v],h=S(e.rules[m]),l.prev=5,h.s();case 7:if((y=h.n()).done){l.next=18;break}if(x=y.value,!0!==(_=x(f.value[m]))){l.next=14;break}return l.abrupt("continue",16);case 14:return A.a.$emit("snack","red","[".concat(m,"] - ").concat(_)),l.abrupt("return");case 16:l.next=7;break;case 18:l.next=23;break;case 20:l.prev=20,l.t0=l.catch(5),h.e(l.t0);case 23:return l.prev=23,h.f(),l.finish(23);case 26:v++,l.next=2;break;case 29:return j=f.value,j.__typename,C=j.id,data=Object(c.a)(j,$),console.log("Updating",{data:data}),w.value=!0,l.prev=32,l.next=35,n.$graphql.default.request(Object(k.a)(r||(r=Object(o.a)(["\n            mutation setAlias($id: String!, $data: AliasInput!) {\n              setAlias(id: $id, data: $data) {\n                id\n              }\n            }"]))),{id:C||Object(O.a)(),data:data});case 35:A.a.$emit("snack","success","Data updated."),l.next=41;break;case 38:l.prev=38,l.t1=l.catch(32),l.t1 instanceof Error&&Object(V.a)(l.t1);case 41:w.value=!1,menu.value=!1,t.emit("save");case 44:case"end":return l.stop()}}),l,null,[[5,20,23,26],[32,38]])})));return function(){return l.apply(this,arguments)}}();return{menu:menu,item:f,save:J,translate:y.a,capitalize:_.a,valid:h,saving:w,form:form,group:x}}}),T=J,E=n(45),R=n(44),z=n.n(R),D=n(48),F=n(43),U=n(27),B=n(777),L=n(378),M=n(376),N=n(30),P=n(18),W=n(267),Y=n(764),G=n(140),H=n(773),component=Object(E.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{persistent:"","max-width":"800",scrollable:"",fullscreen:e.$vuetify.breakpoint.mobile},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,l=t.attrs;return[void 0!==e.item.id?n("v-btn",e._g(e._b({staticClass:"primary-hover",attrs:{icon:""}},"v-btn",l,!1),r),[n("v-icon",[e._v("\n          mdi-pencil\n        ")])],1):n("v-btn",e._g(e._b({attrs:{color:"primary"}},"v-btn",l,!1),r),[e._v("\n        New item\n      ")])]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),n("v-card",{staticClass:"pt-3",attrs:{outlined:""}},[n("v-card-text",[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:e.translate("alias"),rules:e.rules.alias,"hide-details":"auto",clearable:!0,required:""},model:{value:e.item.alias,callback:function(t){e.$set(e.item,"alias",t)},expression:"item.alias"}}),e._v(" "),n("v-textarea",{attrs:{"hide-details":"auto",label:e.translate("command"),rows:1,rules:e.rules.command,clearable:!0,"auto-grow":"",required:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}},model:{value:e.item.command,callback:function(t){e.$set(e.item,"command",t)},expression:"item.command"}}),e._v(" "),n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-select",{attrs:{label:e.translate("permissions"),clearable:"",items:e.permissionItems,"hide-details":"auto"},model:{value:e.item.permission,callback:function(t){e.$set(e.item,"permission",t)},expression:"item.permission"}})],1),e._v(" "),n("v-col",[n("v-combobox",{attrs:{label:e.translate("group"),"hide-details":"auto",clearable:"","search-input":e.group,"return-object":!1,items:e.groupItems.filter((function(e){return null!==e.value}))},on:{"update:searchInput":function(t){e.group=t},"update:search-input":function(t){e.group=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[n("v-list-item",[e._v("\n                    CreateÂ "),n("strong",[e._v(e._s(e.group))])])]},proxy:!0}]),model:{value:e.item.group,callback:function(t){e.$set(e.item,"group",t)},expression:"item.group"}})],1)],1),e._v(" "),n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-switch",{attrs:{label:e.translate("enabled"),"persistent-hint":"","hide-details":"auto",hint:e.item.enabled?"Alias is enabled":"Alias is disabled"},model:{value:e.item.enabled,callback:function(t){e.$set(e.item,"enabled",t)},expression:"item.enabled"}})],1),e._v(" "),n("v-col",[n("v-switch",{attrs:{label:e.capitalize(e.translate("visible")),"persistent-hint":"","hide-details":"auto",hint:e.item.visible?"Alias will be visible in lists":"Alias won't be visible in lists"},model:{value:e.item.visible,callback:function(t){e.$set(e.item,"visible",t)},expression:"item.visible"}})],1)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(t){e.menu=!1}}},[e._v("\n          Cancel\n        ")]),e._v(" "),n("v-btn",{attrs:{color:"primary",loading:e.saving,text:"",disabled:!e.valid},on:{click:function(t){return e.save()}}},[e._v("\n          Save & Close\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;z()(component,{VBtn:D.a,VCard:F.a,VCardActions:F.b,VCardText:F.d,VCol:U.a,VCombobox:B.a,VDialog:L.a,VForm:M.a,VIcon:N.a,VListItem:P.c,VRow:U.d,VSelect:W.a,VSpacer:U.e,VSwitch:Y.a,VTextField:G.a,VTextarea:H.a})}}]);