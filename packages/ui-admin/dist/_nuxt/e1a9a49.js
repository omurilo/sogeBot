(window.webpackJsonp=window.webpackJsonp||[]).push([[164,97,112],{1527:function(e,t,n){"use strict";n.r(t);n(1);var r=n(26),l=(n(81),n(8),n(4),n(25),n(103),n(146),n(63),n(46),n(37),n(39),n(31),n(5)),o=n(770),c=n(21),d=n(49),v=n.n(d),f=n(54),m=n(776),h=n(141),y=Object(l.c)({setup:function(){var e=Object(l.i)([]),t=Object(l.i)(""),n=Object(l.i)(!1),d=Object(l.i)([]),y=Object(l.i)([]),_=Object(l.i)(!1);Object(l.p)(_,(function(e){e||(d.value=[])}));var x=Object(l.i)({loading:o.ButtonStates.progress,import:o.ButtonStates.idle}),j=Object(l.a)((function(){return 0===t.value.length?e.value:e.value.filter((function(e){var n=!Object(f.isNil)(e.title.match(new RegExp(Object(f.escapeRegExp)(t.value),"ig"))),r=!Object(f.isNil)(e.spotifyUri.match(new RegExp(Object(f.escapeRegExp)(t.value),"ig")));return n||r}))}));Object(l.f)((function(){O()}));var O=function(){x.value.loading=o.ButtonStates.progress,Object(c.getSocket)("/integrations/spotify").emit("spotify::getAllBanned",{},(function(t,n){e.value=n,x.value.loading=o.ButtonStates.success}))},S=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value=!1,e.next=3,Promise.all(d.value.map((function(e){return new Promise((function(t){Object(c.getSocket)("/integrations/spotify").emit("spotify::deleteBan",{spotifyUri:e.spotifyUri},(function(){t(!0)}))}))})));case 3:O(),h.a.$emit("snack","success","Data removed."),d.value=[];case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{addToSelectedItem:Object(m.a)(d,"spotifyUri",y),items:e,fItems:j,headers:[{value:"title",text:""},{value:"artists",text:""}],state:x,search:t,selectable:_,saveCurrentItems:function(e){y.value=e},addSong:function(){""!==t.value?0===x.value.import&&(x.value.import=1,Object(c.getSocket)("/integrations/spotify").emit("spotify::addBan",t.value,(function(e){e?setTimeout((function(){t.value="",x.value.import=0}),1e3):(x.value.import=0,h.a.$emit("snack","success","Song added to ban list."),O(),t.value="")}))):h.a.$emit("snack","red","Cannot add empty song to ban list.")},translate:v.a,ButtonStates:o.ButtonStates,deleteDialog:n,deleteSelected:S,selected:d}}}),_=y,x=n(45),j=n(44),O=n.n(j),S=n(48),k=n(43),w=n(27),C=n(269),V=n(378),I=n(30),B=n(134),D=n(140),component=Object(x.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{class:{"pa-4":!e.$vuetify.breakpoint.mobile},attrs:{fluid:""}},[n("alert-disabled",{attrs:{integration:"spotify"}}),e._v(" "),n("v-data-table",{attrs:{"calculate-widths":"","hide-default-header":"","show-select":e.selectable,loading:e.state.loading!==e.ButtonStates.success,headers:e.headers,"item-key":"spotifyUri","items-per-page":-1,items:e.fItems},on:{"click:row":e.addToSelectedItem,"current-items":e.saveCurrentItems},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-sheet",{staticClass:"my-2 pb-2 mt-0",attrs:{flat:"",color:"dark"}},[n("v-row",{staticClass:"px-2",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"pr-2",attrs:{cols:"auto","align-self":"center"}},[n("v-btn",{attrs:{icon:"",color:e.selectable?"primary":"secondary"},on:{click:function(t){e.selectable=!e.selectable}}},[n("v-icon",[e._v("\n                mdi-checkbox-multiple-marked-outline\n              ")])],1)],1),e._v(" "),n("v-col",{attrs:{"align-self":"center"}},[n("v-text-field",{staticClass:"pa-0 ma-2",attrs:{"append-icon":"mdi-magnify",label:"Search or add by spotifyURI","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),n("v-col",{attrs:{cols:"auto","align-self":"center"}},[e.selected.length>0?[n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,l=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mr-1",attrs:{color:"error"}},"v-btn",l,!1),r),[e._v("\n                    Delete "+e._s(e.selected.length)+" Item(s)\n                  ")])]}}],null,!1,1852500087),model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[e._v(" "),n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Delete "+e._s(e.selected.length)+" Item(s)?")])]),e._v(" "),n("v-card-text",[n("v-data-table",{attrs:{dense:"",items:e.selected,headers:e.headersDelete,"hide-default-header":"","hide-default-footer":""}})],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(t){e.deleteDialog=!1}}},[e._v("\n                      Cancel\n                    ")]),e._v(" "),n("v-btn",{attrs:{color:"error",text:""},on:{click:e.deleteSelected}},[e._v("\n                      Delete\n                    ")])],1)],1)],1)]:e._e(),e._v(" "),n("v-btn",{attrs:{color:"primary",disabled:0===e.search.length,loading:1===e.state.import},on:{click:e.addSong}},[e._v("\n              New Item\n            ")])],2)],1)],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)}),[],!1,null,null,null);t.default=component.exports;O()(component,{AlertDisabled:n(781).default}),O()(component,{VBtn:S.a,VCard:k.a,VCardActions:k.b,VCardText:k.d,VCardTitle:k.e,VCol:w.a,VContainer:w.b,VDataTable:C.a,VDialog:V.a,VIcon:I.a,VRow:w.d,VSheet:B.a,VSpacer:w.e,VTextField:D.a})},770:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonStates=void 0,t.ButtonStates={idle:0,progress:1,success:2,fail:3}},776:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(35);n(94),n(8),n(4),n(82),n(51),n(37),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(39);function l(e,t,n){var l=null,o="select";return function(c){var d=void 0===e.value?e:e.value,v=d.findIndex((function(e){return e[t]===c[t]})),f=!1;if(window.event&&(f=!!window.event.shiftKey),f){var m=n.value.findIndex((function(e){return e[t]===l})),h=n.value.findIndex((function(e){return e[t]===c[t]}));if("select"===o)for(var i=Math.min(m,h);i<=Math.max(m,h);i++)d.push(n.value[i]);else d=d.filter((function(e){for(var t=!0,r=Math.min(m,h);r<=Math.max(m,h);r++)if(e===n.value[r]){t=!1;break}return t}))}else l=c[t],-1===v?(d.push(c),o="select"):(d.splice(v,1),o="unselect");d=Array.from(new Set(Object(r.a)(d))),console.log(d)}}},781:function(e,t,n){"use strict";n.r(t);n(73),n(4),n(33);var r=n(5),l=n(49),o=n.n(l),c=n(1),d=Object(c.h)({props:{system:String,integration:String},setup:function(e){var t=Object(r.o)();return{isEnabled:Object(c.b)((function(){return e.system?t.state.$systems.find((function(t){return t.name===e.system})).enabled:!!e.integration&&t.state.$integrations.find((function(t){return t.name===e.integration})).enabled})),translate:o.a}}}),v=n(45),f=n(44),m=n.n(f),h=n(379),component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isEnabled?e._e():n("v-alert",{staticClass:"mb-0",attrs:{color:"error",text:""}},[e._v("\n  "+e._s(e.translate("this-system-is-disabled"))+"\n")])}),[],!1,null,null,null);t.default=component.exports;m()(component,{VAlert:h.a})}}]);